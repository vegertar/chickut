(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1185:function(module,exports,__webpack_require__){"use strict";var _clientApi=__webpack_require__(67),_clientLogger=__webpack_require__(46),_configFilename=__webpack_require__(1186);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(_configFilename.args||_configFilename.argTypes)&&_clientLogger.logger.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify({args:_configFilename.args,argTypes:_configFilename.argTypes})),_configFilename.decorators&&_configFilename.decorators.forEach((function(decorator){return(0,_clientApi.addDecorator)(decorator,!1)})),_configFilename.loaders&&_configFilename.loaders.forEach((function(loader){return(0,_clientApi.addLoader)(loader,!1)})),(_configFilename.parameters||_configFilename.globals||_configFilename.globalTypes)&&(0,_clientApi.addParameters)(_objectSpread(_objectSpread({},_configFilename.parameters),{},{globals:_configFilename.globals,globalTypes:_configFilename.globalTypes}),!1),_configFilename.argTypesEnhancers&&_configFilename.argTypesEnhancers.forEach((function(enhancer){return(0,_clientApi.addArgTypesEnhancer)(enhancer)}))},1186:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"parameters",(function(){return parameters}));__webpack_require__(1187);var parameters={actions:{argTypesRegex:"^on[A-Z].*"}}},1187:function(module,exports,__webpack_require__){},1188:function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__(442).configure)([__webpack_require__(1189),__webpack_require__(1190)],module,!1)}).call(this,__webpack_require__(113)(module))},1189:function(module,exports){function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=function(){return[]},webpackEmptyContext.resolve=webpackEmptyContext,module.exports=webpackEmptyContext,webpackEmptyContext.id=1189},1190:function(module,exports,__webpack_require__){var map={"./components/extensions/marks/strong/index.stories.tsx":1191,"./components/extensions/nodes/base/index.stories.tsx":1311,"./components/extensions/nodes/blockquote/index.stories.tsx":1312,"./components/extensions/nodes/codeblock/index.stories.tsx":1313,"./components/extensions/nodes/heading/index.stories.tsx":1314,"./components/extensions/nodes/horizontalrule/index.stories.tsx":1315,"./components/extensions/nodes/html/index.stories.tsx":1316,"./components/extensions/nodes/list/index.stories.tsx":1317,"./components/extensions/nodes/paragraph/index.stories.tsx":1318,"./components/index.stories.tsx":36};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=1190},1191:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));var _home_whom_chickut_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(15),_index__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(192),_index_stories__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(36);__webpack_exports__.default=Object(_index_stories__WEBPACK_IMPORTED_MODULE_2__.meta)("Marks",_index__WEBPACK_IMPORTED_MODULE_1__.a);var Default=Object(_index_stories__WEBPACK_IMPORTED_MODULE_2__.template)(_index__WEBPACK_IMPORTED_MODULE_1__.a).bind({});Default.args={text:"**Hello** world"},Default.parameters=Object(_home_whom_chickut_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({storySource:{source:"template(Extension)"}},Default.parameters)},1194:function(module,exports,__webpack_require__){},1303:function(module,exports,__webpack_require__){},1304:function(module,exports,__webpack_require__){},1305:function(module,exports,__webpack_require__){},1306:function(module,exports,__webpack_require__){},1307:function(module,exports,__webpack_require__){},1308:function(module,exports,__webpack_require__){},1309:function(module,exports,__webpack_require__){},1310:function(module,exports,__webpack_require__){},1311:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));var _home_whom_chickut_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(15),_index__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(137),_index_stories__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(36);__webpack_exports__.default=Object(_index_stories__WEBPACK_IMPORTED_MODULE_2__.meta)("Nodes",_index__WEBPACK_IMPORTED_MODULE_1__.a,[]);var Default=Object(_index_stories__WEBPACK_IMPORTED_MODULE_2__.template)(_index__WEBPACK_IMPORTED_MODULE_1__.a).bind({});Default.args={text:"Hello world"},Default.parameters=Object(_home_whom_chickut_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({storySource:{source:"template(Extension)"}},Default.parameters)},1312:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));var _home_whom_chickut_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(15),_index__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(199),_index_stories__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(36);__webpack_exports__.default=Object(_index_stories__WEBPACK_IMPORTED_MODULE_2__.meta)("Nodes",_index__WEBPACK_IMPORTED_MODULE_1__.a);var Default=Object(_index_stories__WEBPACK_IMPORTED_MODULE_2__.template)(_index__WEBPACK_IMPORTED_MODULE_1__.a).bind({});Default.args={text:"> 1st layer quote...\ninside 1st\n\noutside 1st  \n>> 2nd layer quote...\n> inside 2nd\ninside 2nd too\n\noutside 2nd  \n> > > 3rd quote...\n>> inside 3rd\n> inside 3rd too\ninside 3rd as well\n\noutside 3rd\n>>> still 3rd quote...\n\n    > indent 4 or more is not quote\n>without tailing spaces is not quote\n"},Default.parameters=Object(_home_whom_chickut_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({storySource:{source:"template(Extension)"}},Default.parameters)},1313:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));var _home_whom_chickut_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(15),_index__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(196),_index_stories__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(36);__webpack_exports__.default=Object(_index_stories__WEBPACK_IMPORTED_MODULE_2__.meta)("Nodes",_index__WEBPACK_IMPORTED_MODULE_1__.a);var Default=Object(_index_stories__WEBPACK_IMPORTED_MODULE_2__.template)(_index__WEBPACK_IMPORTED_MODULE_1__.a).bind({});Default.args={text:"    // Some comments\n    line 1 of code\n    line 2 of code\n    line 3 of code\n\nnot code\n\n    inside code\noutside code"},Default.parameters=Object(_home_whom_chickut_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({storySource:{source:"template(Extension)"}},Default.parameters)},1314:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));var _home_whom_chickut_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(15),_index__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(198),_index_stories__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(36);__webpack_exports__.default=Object(_index_stories__WEBPACK_IMPORTED_MODULE_2__.meta)("Nodes",_index__WEBPACK_IMPORTED_MODULE_1__.a);var Default=Object(_index_stories__WEBPACK_IMPORTED_MODULE_2__.template)(_index__WEBPACK_IMPORTED_MODULE_1__.a).bind({});Default.args={text:"# h1\n## h2\n### h3\n#### h4\n##### h5\n###### h6\n####### no h7\n#without tailing spaces is not heading\n   ######             still h6\n    # indent 4 or more is not heading\n"},Default.parameters=Object(_home_whom_chickut_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({storySource:{source:"template(Extension)"}},Default.parameters)},1315:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));var _home_whom_chickut_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(15),_index__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(197),_index_stories__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(36);__webpack_exports__.default=Object(_index_stories__WEBPACK_IMPORTED_MODULE_2__.meta)("Nodes",_index__WEBPACK_IMPORTED_MODULE_1__.a);var Default=Object(_index_stories__WEBPACK_IMPORTED_MODULE_2__.template)(_index__WEBPACK_IMPORTED_MODULE_1__.a).bind({});Default.args={text:"--- \n--- with other chars is not hr\nwithout tailing spaces is not hr\n---\nindent 4 or more is not hr\n    ---"},Default.parameters=Object(_home_whom_chickut_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({storySource:{source:"template(Extension)"}},Default.parameters)},1316:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));var _home_whom_chickut_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(15),_index__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(193),_index_stories__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(36);__webpack_exports__.default=Object(_index_stories__WEBPACK_IMPORTED_MODULE_2__.meta)("Nodes",_index__WEBPACK_IMPORTED_MODULE_1__.a);var Default=Object(_index_stories__WEBPACK_IMPORTED_MODULE_2__.template)(_index__WEBPACK_IMPORTED_MODULE_1__.a).bind({});Default.args={text:'<script>"counter: " + x<\/script>\n\n<script>var x = 0; setInterval(() => ++x, 1000)<\/script>'},Default.parameters=Object(_home_whom_chickut_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({storySource:{source:"template(Extension)"}},Default.parameters)},1317:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));var _home_whom_chickut_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(15),_index__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(194),_index_stories__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(36);__webpack_exports__.default=Object(_index_stories__WEBPACK_IMPORTED_MODULE_2__.meta)("Nodes",_index__WEBPACK_IMPORTED_MODULE_1__.a);var Default=Object(_index_stories__WEBPACK_IMPORTED_MODULE_2__.template)(_index__WEBPACK_IMPORTED_MODULE_1__.a).bind({});Default.args={text:"Unordered\n\n+ Create a list by starting a line with +, -, or *\n+ Sub-lists are made by indenting 2 spaces:\n  - Marker character change forces new list start:\n    * Ac tristique libero volutpat at\n    + Facilisis in pretium nisl aliquet\n    - Nulla volutpat aliquam velit\n+ Very easy!\n\nOrdered\n\n1. Lorem ipsum dolor sit amet\n2. Consectetur adipiscing elit\n3. Integer molestie lorem at massa\n\n1. You can use sequential numbers...\n1. ...or keep all the numbers as 1.\n\nStart numbering with offset:\n\n57. foo\n1. bar"},Default.parameters=Object(_home_whom_chickut_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({storySource:{source:"template(Extension)"}},Default.parameters)},1318:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));var _home_whom_chickut_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(15),_index__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(195),_index_stories__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(36),_base__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(137);__webpack_exports__.default=Object(_index_stories__WEBPACK_IMPORTED_MODULE_2__.meta)("Nodes",_index__WEBPACK_IMPORTED_MODULE_1__.a,[_base__WEBPACK_IMPORTED_MODULE_3__.a]);var Default=Object(_index_stories__WEBPACK_IMPORTED_MODULE_2__.template)(_index__WEBPACK_IMPORTED_MODULE_1__.a).bind({});Default.args={text:"Hello world\nThis is an amazing paragraph"},Default.parameters=Object(_home_whom_chickut_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({storySource:{source:"template(Extension)"}},Default.parameters)},137:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Base}));var _home_whom_chickut_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(32),_home_whom_chickut_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(40),_home_whom_chickut_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(41),prosemirror_commands__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(588),prosemirror_keymap__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(266),_editor__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(19);function Base(){return Object(_editor__WEBPACK_IMPORTED_MODULE_5__.f)(Base.pack,"base"),null}var BasePlugin=function(_Plugin){Object(_home_whom_chickut_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_1__.a)(BasePlugin,_Plugin);var _super=Object(_home_whom_chickut_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_2__.a)(BasePlugin);function BasePlugin(){return Object(_home_whom_chickut_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__.a)(this,BasePlugin),_super.call(this,"base",{handleKeyDown:Object(prosemirror_keymap__WEBPACK_IMPORTED_MODULE_4__.a)(prosemirror_commands__WEBPACK_IMPORTED_MODULE_3__.a)})}return BasePlugin}(_editor__WEBPACK_IMPORTED_MODULE_5__.b);Base.pack=[{name:"doc",node:{content:"block+"},plugins:[new BasePlugin]},{name:"text",node:{group:"inline"}},{name:"br",node:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br",priority:-1}],toDOM:function toDOM(){return["br"]}}},{name:"default-block",node:{content:"inline*",group:"block",parseDOM:[{tag:"default-block"}],toDOM:function toDOM(){return["default-block",0]}}}]},19:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"f",(function(){return useExtension})),__webpack_require__.d(__webpack_exports__,"e",(function(){return engine_isSpace})),__webpack_require__.d(__webpack_exports__,"d",(function(){return engine_expandTab})),__webpack_require__.d(__webpack_exports__,"b",(function(){return plugin_Plugin})),__webpack_require__.d(__webpack_exports__,"a",(function(){return plugin_ExtensionPlugin}));var objectSpread2=__webpack_require__(15),toConsumableArray=__webpack_require__(85),jsx_runtime=__webpack_require__(42),react=__webpack_require__(0),react_default=__webpack_require__.n(react),index_es=(__webpack_require__(104),__webpack_require__(6)),react_is=__webpack_require__(580),react_is_default=__webpack_require__.n(react_is),slicedToArray=__webpack_require__(140),objectWithoutProperties=__webpack_require__(141),createForOfIteratorHelper=__webpack_require__(22),dist_index_es=__webpack_require__(581),immer_esm=__webpack_require__(204),createClass=__webpack_require__(58),classCallCheck=__webpack_require__(32),inherits=__webpack_require__(40),createSuper=__webpack_require__(41),wrapNativeSuper=__webpack_require__(142),prosemirror_model_dist_index_es=__webpack_require__(1),lodash_union=__webpack_require__(582),lodash_union_default=__webpack_require__.n(lodash_union),lodash_merge=__webpack_require__(583),lodash_merge_default=__webpack_require__.n(lodash_merge),engine_NoParserError=function(_Error){Object(inherits.a)(NoParserError,_Error);var _super=Object(createSuper.a)(NoParserError);function NoParserError(){return Object(classCallCheck.a)(this,NoParserError),_super.apply(this,arguments)}return NoParserError}(Object(wrapNativeSuper.a)(Error));function engine_isSpace(code){switch(code){case 9:case 32:return!0}return!1}function engine_isWhiteSpace(code){if(code>=8192&&code<=8202)return!0;switch(code){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}var UNICODE_PUNCT_RE=/[!-#%-*,-/:;?@[-\]_{}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/;function engine_isPunctChar(ch){return UNICODE_PUNCT_RE.test(ch)}function engine_isMdAsciiPunct(ch){switch(ch){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function engine_expandTab(n){return 4-n%4}var NEWLINES_RE=/\r\n?|\n|\u2424/g,NULL_RE=/\0/g,engine_Token=function Token(name,nesting){Object(classCallCheck.a)(this,Token),this.name=name,this.nesting=nesting,this.attrs=void 0,this.map=void 0,this.level=void 0,this.children=void 0,this.content=void 0,this.markup=void 0,this.meta=void 0,this.hidden=!1},engine_State=function State(_ref){var src=_ref.src,engine=_ref.engine,tokens=_ref.tokens,env=_ref.env;Object(classCallCheck.a)(this,State),this.inlineMode=!1,this.engine=void 0,this.src=void 0,this.tokens=void 0,this.env=void 0,this.src=src,this.engine=engine,this.tokens=tokens,this.env=env},engine_Ruler=function(){function Ruler(){Object(classCallCheck.a)(this,Ruler),this.rules=[],this.cache=void 0,this.add.apply(this,arguments)}return Object(createClass.a)(Ruler,[{key:"find",value:function find(name){return this.rules.findIndex((function(item){return item.name===name}))}},{key:"compile",value:function compile(){var _this=this,chains=new Set;chains.add(""),this.rules.forEach((function(rule){var _rule$alt;return!rule.disabled&&(null===(_rule$alt=rule.alt)||void 0===_rule$alt?void 0:_rule$alt.forEach((function(item){return chains.add("."===item?rule.name:item)})))}));var cache={};return chains.forEach((function(chain){cache[chain]=[],_this.rules.forEach((function(rule){rule.disabled||(!chain||rule.alt&&(-1!==rule.alt.indexOf(chain)||rule.name===chain&&-1!==rule.alt.indexOf(".")))&&cache[chain].push(rule.handle.bind(rule))}))})),this.cache=cache,this}},{key:"insert",value:function insert(rule,index){return void 0===index||index>=this.rules.length?this.add(rule):(this.rules.splice(index,0,rule),this.cache=void 0,this)}},{key:"add",value:function add(){var _this$rules;return(_this$rules=this.rules).push.apply(_this$rules,arguments),this.cache=void 0,this}},{key:"replace",value:function replace(rule){var index=this.find(rule.name);if(-1===index)throw new Error("Parser rule not found: "+rule.name);return this.rules[index]=rule,this.cache=void 0,this}},{key:"remove",value:function remove(){for(var _len=arguments.length,names=new Array(_len),_key=0;_key<_len;_key++)names[_key]=arguments[_key];for(var _i=0,_names=names;_i<_names.length;_i++){var _name=_names[_i],idx=this.find(_name);-1!==idx&&this.rules.splice(idx,1)}return this.cache=void 0,this}},{key:"clear",value:function clear(){return this.rules.splice(0),this.cache=void 0,this}},{key:"getRules",value:function getRules(){var _this$cache,chainName=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return void 0===this.cache&&this.compile(),(null===(_this$cache=this.cache)||void 0===_this$cache?void 0:_this$cache[chainName])||[]}}]),Ruler}(),engine_Parser=function Parser(){Object(classCallCheck.a)(this,Parser),this.ruler=new engine_Ruler},engine_CoreState=function(_State){Object(inherits.a)(CoreState,_State);var _super2=Object(createSuper.a)(CoreState);function CoreState(){return Object(classCallCheck.a)(this,CoreState),_super2.apply(this,arguments)}return CoreState}(engine_State),engine_CoreParser=function(_Parser){Object(inherits.a)(CoreParser,_Parser);var _super3=Object(createSuper.a)(CoreParser);function CoreParser(){return Object(classCallCheck.a)(this,CoreParser),_super3.apply(this,arguments)}return Object(createClass.a)(CoreParser,[{key:"parse",value:function parse(props){var state=new engine_CoreState(props);this.ruler.getRules().forEach((function(rule){return rule(state)}))}}]),CoreParser}(engine_Parser),engine_BlockState=function(_State2){Object(inherits.a)(BlockState,_State2);var _super4=Object(createSuper.a)(BlockState);function BlockState(props){var _this2;Object(classCallCheck.a)(this,BlockState),(_this2=_super4.call(this,props)).bMarks=[],_this2.eMarks=[],_this2.tShift=[],_this2.sCount=[],_this2.bsCount=[],_this2.blkIndent=0,_this2.line=0,_this2.lineMax=0,_this2.tight=!1,_this2.ddIndent=-1,_this2.listIndent=-1,_this2.parent="",_this2.level=0;for(var indentFound=!1,start=0,indent=0,offset=0,pos=0,len=_this2.src.length;pos<len;pos++){var ch=_this2.src.charCodeAt(pos);if(!indentFound){if(engine_isSpace(ch)){indent++,9===ch?offset+=engine_expandTab(offset):offset++;continue}indentFound=!0}10!==ch&&pos!==len-1||(10!==ch&&pos++,_this2.bMarks.push(start),_this2.eMarks.push(pos),_this2.tShift.push(indent),_this2.sCount.push(offset),_this2.bsCount.push(0),indentFound=!1,indent=0,offset=0,start=pos+1)}return _this2.bMarks.push(_this2.src.length),_this2.eMarks.push(_this2.src.length),_this2.tShift.push(0),_this2.sCount.push(0),_this2.bsCount.push(0),_this2.lineMax=_this2.bMarks.length-1,_this2}return Object(createClass.a)(BlockState,[{key:"push",value:function push(name,nesting){var token=new engine_Token(name,nesting);return nesting<0&&this.level--,token.level=this.level,nesting>0&&this.level++,this.tokens.push(token),token}},{key:"isEmpty",value:function isEmpty(line){return this.bMarks[line]+this.tShift[line]>=this.eMarks[line]}},{key:"skipEmptyLines",value:function skipEmptyLines(from){for(var max=this.lineMax;from<max&&this.isEmpty(from);from++);return from}},{key:"skipSpaces",value:function skipSpaces(pos){for(var max=this.src.length;pos<max&&engine_isSpace(this.src.charCodeAt(pos));pos++);return pos}},{key:"skipSpacesBack",value:function skipSpacesBack(pos,min){if(pos<=min)return pos;for(;pos>min;)if(!engine_isSpace(this.src.charCodeAt(--pos)))return pos+1;return pos}},{key:"skipChars",value:function skipChars(pos,code){for(var max=this.src.length;pos<max&&this.src.charCodeAt(pos)===code;pos++);return pos}},{key:"skipCharsBack",value:function skipCharsBack(pos,code,min){if(pos<=min)return pos;for(;pos>min;)if(code!==this.src.charCodeAt(--pos))return pos+1;return pos}},{key:"getLines",value:function getLines(begin,end,indent,keepLastLF){if(begin>=end)return"";for(var queue=new Array(end-begin),i=0,line=begin;line<end;line++,i++){var lineStart=this.bMarks[line],lineIndent=0,first=lineStart,last=void 0;for(last=line+1<end||keepLastLF?this.eMarks[line]+1:this.eMarks[line];first<last&&lineIndent<indent;){var ch=this.src.charCodeAt(first);if(engine_isSpace(ch))9===ch?lineIndent+=engine_expandTab(lineIndent+this.bsCount[line]):lineIndent++;else{if(!(first<lineStart+this.tShift[line]))break;lineIndent++}first++}queue[i]=lineIndent>indent?" ".repeat(lineIndent-indent)+this.src.slice(first,last):this.src.slice(first,last)}return queue.join("")}}]),BlockState}(engine_State),engine_BlockParser=function(_Parser2){Object(inherits.a)(BlockParser,_Parser2);var _super5=Object(createSuper.a)(BlockParser);function BlockParser(){return Object(classCallCheck.a)(this,BlockParser),_super5.apply(this,arguments)}return Object(createClass.a)(BlockParser,[{key:"parse",value:function parse(props){if(props.src){var state=new engine_BlockState(props);this.tokenize(state,state.line,state.lineMax)}}},{key:"tokenize",value:function tokenize(state,startLine,endLine){for(var rules=this.ruler.getRules(),_state$engine$options=state.engine.options,maxNesting=_state$engine$options.maxNesting,ignoreError=_state$engine$options.ignoreError,line=startLine,hasEmptyLines=!1;line<endLine&&(state.line=line=state.skipEmptyLines(line),!(line>=endLine))&&!(state.sCount[line]<state.blkIndent);){if(state.level>=maxNesting){state.line=endLine;break}var _step,lineBefore=line,_iterator=Object(createForOfIteratorHelper.a)(rules);try{for(_iterator.s();!(_step=_iterator.n()).done;){if((0,_step.value)(state,!1,line,endLine))break}}catch(err){_iterator.e(err)}finally{_iterator.f()}if(state.tight=!hasEmptyLines,state.isEmpty(state.line-1)&&(hasEmptyLines=!0),(line=state.line)<endLine&&state.isEmpty(line)&&(hasEmptyLines=!0,state.line=++line),line===lineBefore){if(ignoreError)break;var src=state.src.slice(state.bMarks[line],state.eMarks[line]);throw new engine_NoParserError("proper parsers are not available for line<".concat(line,">: ").concat(src))}}}}]),BlockParser}(engine_Parser),engine_InlineState=function(_State3){Object(inherits.a)(InlineState,_State3);var _super6=Object(createSuper.a)(InlineState);function InlineState(){var _this3;Object(classCallCheck.a)(this,InlineState);for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];return(_this3=_super6.call.apply(_super6,[this].concat(args))).tokensMeta=Array(_this3.tokens.length),_this3.pos=0,_this3.posMax=_this3.src.length,_this3.level=0,_this3.pending="",_this3.pendingLevel=0,_this3.cache={},_this3.delimiters=[],_this3.prevDelimiters=[],_this3.backticks={},_this3.backticksScanned=!1,_this3}return Object(createClass.a)(InlineState,[{key:"pushPending",value:function pushPending(){var name=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"text",token=new engine_Token(name,0);return token.content=this.pending,token.level=this.pendingLevel,this.tokens.push(token),this.pending="",token}},{key:"push",value:function push(name,nesting){this.pending&&this.pushPending();var token=new engine_Token(name,nesting),tokenMeta=null;return nesting<0&&(this.level--,this.delimiters=this.prevDelimiters.pop()||[]),token.level=this.level,nesting>0&&(this.level++,this.prevDelimiters.push(this.delimiters),this.delimiters=[],tokenMeta={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(token),this.tokensMeta.push(tokenMeta),token}},{key:"scanDelims",value:function scanDelims(start,canSplitWord){for(var marker=this.src.charCodeAt(start),pos=start;pos<this.posMax&&this.src.charCodeAt(pos)===marker;)pos++;var nextChar=pos<this.posMax?this.src.charCodeAt(pos):32,lastChar=start>0?this.src.charCodeAt(start-1):32,isLastPunctChar=engine_isMdAsciiPunct(lastChar)||engine_isPunctChar(String.fromCharCode(lastChar)),isNextPunctChar=engine_isMdAsciiPunct(nextChar)||engine_isPunctChar(String.fromCharCode(nextChar)),isLastWhiteSpace=engine_isWhiteSpace(lastChar),isNextWhiteSpace=engine_isWhiteSpace(nextChar),leftFlanking=!0;isNextWhiteSpace?leftFlanking=!1:isNextPunctChar&&(isLastWhiteSpace||isLastPunctChar||(leftFlanking=!1));var open,close,rightFlanking=!0;return isLastWhiteSpace?rightFlanking=!1:isLastPunctChar&&(isNextWhiteSpace||isNextPunctChar||(rightFlanking=!1)),canSplitWord?(open=leftFlanking,close=rightFlanking):(open=leftFlanking&&(!rightFlanking||isLastPunctChar),close=rightFlanking&&(!leftFlanking||isNextPunctChar)),{open:open,close:close,length:pos-start}}}]),InlineState}(engine_State),engine_InlineParser=function(_Parser3){Object(inherits.a)(InlineParser,_Parser3);var _super7=Object(createSuper.a)(InlineParser);function InlineParser(){return Object(classCallCheck.a)(this,InlineParser),_super7.apply(this,arguments)}return Object(createClass.a)(InlineParser,[{key:"parse",value:function parse(props){var state=new engine_InlineState(props);this.tokenize(state)}},{key:"tokenize",value:function tokenize(state){for(var rules=this.ruler.getRules(),maxNesting=state.engine.options.maxNesting;state.pos<state.posMax;){var ok=!1;if(state.level<maxNesting){var _step2,_iterator2=Object(createForOfIteratorHelper.a)(rules);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){if(ok=(0,_step2.value)(state,!1))break}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}}if(ok){if(state.pos>=state.posMax)break}else state.pending+=state.src[state.pos++]}state.pending&&state.pushPending()}},{key:"skipToken",value:function skipToken(state){var pos=state.pos,cache=state.cache;if(void 0===cache[pos]){var ok=!1,rules=this.ruler.getRules(),maxNesting=state.engine.options.maxNesting;if(state.level<maxNesting){var _step3,_iterator3=Object(createForOfIteratorHelper.a)(rules);try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var rule=_step3.value;if(state.level++,ok=rule(state,!0),state.level--,ok)break}}catch(err){_iterator3.e(err)}finally{_iterator3.f()}}else state.pos=state.posMax;ok||state.pos++,cache[pos]=state.pos}else state.pos=cache[pos]}}]),InlineParser}(engine_Parser),defaultRules=[{name:"normalize",handle:function normalize(state){state.src=state.src.replace(NEWLINES_RE,"\n").replace(NULL_RE,"�")}},{name:"block",handle:function block(state){if(state.inlineMode){var token=new engine_Token("",0);token.content=state.src,token.map=[0,1],token.children=[],state.tokens.push(token)}else state.engine.block.parse(state)}},{name:"inline",handle:function inline(state){var _step4,_iterator4=Object(createForOfIteratorHelper.a)(state.tokens);try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var _step4$value=_step4.value,_name2=_step4$value.name,src=_step4$value.content,tokens=_step4$value.children;""===_name2&&src&&tokens&&state.engine.inline.parse(Object(objectSpread2.a)(Object(objectSpread2.a)({},state),{},{src:src,tokens:tokens}))}}catch(err){_iterator4.e(err)}finally{_iterator4.f()}}}],engine_Engine=function(){function Engine(options){Object(classCallCheck.a)(this,Engine),this.core=new engine_CoreParser,this.block=new engine_BlockParser,this.inline=new engine_InlineParser,this.options={maxNesting:100,ignoreError:!1},lodash_merge_default()(this.options,options),this.reset()}return Object(createClass.a)(Engine,[{key:"reset",value:function reset(){var _this$core$ruler$clea;return this.block.ruler.clear(),this.inline.ruler.clear(),(_this$core$ruler$clea=this.core.ruler.clear()).add.apply(_this$core$ruler$clea,defaultRules),this}},{key:"parse",value:function parse(src){var env=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},props={engine:this,src:src,env:env,tokens:[]};return this.core.parse(props),props.tokens}}]),Engine}();try{engine_isSpace.displayName="isSpace",engine_isSpace.__docgenInfo={description:"",displayName:"isSpace",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/editor/engine.tsx#isSpace"]={docgenInfo:engine_isSpace.__docgenInfo,name:"isSpace",path:"src/components/editor/engine.tsx#isSpace"})}catch(__react_docgen_typescript_loader_error){}try{engine_isWhiteSpace.displayName="isWhiteSpace",engine_isWhiteSpace.__docgenInfo={description:"",displayName:"isWhiteSpace",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/editor/engine.tsx#isWhiteSpace"]={docgenInfo:engine_isWhiteSpace.__docgenInfo,name:"isWhiteSpace",path:"src/components/editor/engine.tsx#isWhiteSpace"})}catch(__react_docgen_typescript_loader_error){}try{engine_isPunctChar.displayName="isPunctChar",engine_isPunctChar.__docgenInfo={description:"",displayName:"isPunctChar",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/editor/engine.tsx#isPunctChar"]={docgenInfo:engine_isPunctChar.__docgenInfo,name:"isPunctChar",path:"src/components/editor/engine.tsx#isPunctChar"})}catch(__react_docgen_typescript_loader_error){}try{engine_isMdAsciiPunct.displayName="isMdAsciiPunct",engine_isMdAsciiPunct.__docgenInfo={description:"",displayName:"isMdAsciiPunct",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/editor/engine.tsx#isMdAsciiPunct"]={docgenInfo:engine_isMdAsciiPunct.__docgenInfo,name:"isMdAsciiPunct",path:"src/components/editor/engine.tsx#isMdAsciiPunct"})}catch(__react_docgen_typescript_loader_error){}try{engine_expandTab.displayName="expandTab",engine_expandTab.__docgenInfo={description:"",displayName:"expandTab",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/editor/engine.tsx#expandTab"]={docgenInfo:engine_expandTab.__docgenInfo,name:"expandTab",path:"src/components/editor/engine.tsx#expandTab"})}catch(__react_docgen_typescript_loader_error){}var defaultNodesPrecedence=["p",/^(div|iframe)$/,/^h[1-6]$/,/^(ul|ol|li)$/,"hr","blockquote","pre"],manager_content=/(\w+)(\+)?/,parseDeps=function parseDeps(node){var result=((null==node?void 0:node.content)||"").match(manager_content);return result?[{content:result[1],minimal:!!result[2]?1:0}]:[]},manager_MissingContentError=function(_Error){Object(inherits.a)(MissingContentError,_Error);var _super=Object(createSuper.a)(MissingContentError);function MissingContentError(content){var _this;return Object(classCallCheck.a)(this,MissingContentError),(_this=_super.call(this,"Missing Content Error: ".concat(content))).content=content,_this}return MissingContentError}(Object(wrapNativeSuper.a)(Error));var manager_Manager=function(){function Manager(extensions){var _this2=this,nodesPrecedence=arguments.length>1&&void 0!==arguments[1]?arguments[1]:defaultNodesPrecedence;Object(classCallCheck.a)(this,Manager),this.extensions=extensions,this.nodesPrecedence=nodesPrecedence,this.deps={},this.groups={},this.tags={},this.nonDag=[],this.dfsPath=[],this.bfsPath=[],this.eachExtension=function(fn){var _step,_iterator=Object(createForOfIteratorHelper.a)(_this2.bfsPath);try{for(_iterator.s();!(_step=_iterator.n()).done;){var _name=_step.value,_extension=_this2.getExtension(_name);_extension&&fn(_extension,_name)}}catch(err){_iterator.e(err)}finally{_iterator.f()}},this.getExtension=function(name){return _this2.extensions[name]},this.init=function(){for(var _name2 in _this2.extensions){var _ref,node=_this2.getExtension(_name2).node,group=null==node?void 0:node.group;if(group&&(_this2.groups[group]||(_this2.groups[group]=[]),_this2.groups[group].push(_name2)),_this2.deps[_name2]||(_this2.deps[_name2]=[]),(_ref=_this2.deps[_name2]).push.apply(_ref,Object(toConsumableArray.a)(parseDeps(node))),null==node?void 0:node.parseDOM){var _step2,_iterator2=Object(createForOfIteratorHelper.a)(node.parseDOM);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var tag=_step2.value.tag;if(tag){_this2.tags[_name2]=tag;break}}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}}}},this.detectDAG=function(){var dfsVisited={};for(var _name3 in _this2.dfsPath.splice(0),_this2.nonDag.splice(0),_this2.extensions)dfsVisited[_name3]||_this2.dfs(_name3,dfsVisited)},this.sortGroups=function(){var defaultPriority=_this2.nodesPrecedence.length;for(var group in _this2.groups){var _this2$groups$group;null===(_this2$groups$group=_this2.groups[group])||void 0===_this2$groups$group||_this2$groups$group.sort((function(a,b){for(var x=defaultPriority,y=defaultPriority,aTag=_this2.tags[a],bTag=_this2.tags[b],i=0;i<_this2.nodesPrecedence.length;++i){var item=_this2.nodesPrecedence[i];"string"==typeof item?(x===defaultPriority&&item===aTag&&(x=i),y===defaultPriority&&item===bTag&&(y=i)):(x===defaultPriority&&aTag&&item.test(aTag)&&(x=i),y===defaultPriority&&bTag&&item.test(bTag)&&(y=i))}return x-y}))}},this.detectInfinity=function(){var _step3,_iterator3=Object(createForOfIteratorHelper.a)(_this2.nonDag);try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var _name4=_step3.value;if(_this2.dfsNonDag(_name4))throw new Error("infinite dependency detected: ".concat(_name4))}}catch(err){_iterator3.e(err)}finally{_iterator3.f()}},this.sortDeps=function(){for(var bfsVisited={},i=_this2.dfsPath.length-1;i>=0;--i){var _name5=_this2.dfsPath[i];bfsVisited[_name5]||_this2.bfs(_name5,bfsVisited)}},this.bfs=function(root,visited){var index=-1,queue=[];do{var _name6=queue[index++]||root;if(!visited[_name6]){visited[_name6]=1,_this2.bfsPath.push(_name6);var grouped=_this2.groups[_name6],deps=_this2.deps[_name6];if(grouped){var _step4,_iterator4=Object(createForOfIteratorHelper.a)(grouped);try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var item=_step4.value;queue.push(item)}}catch(err){_iterator4.e(err)}finally{_iterator4.f()}}else if(deps){var _step5,_iterator5=Object(createForOfIteratorHelper.a)(deps);try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var dep=_step5.value;queue.push(dep.content)}}catch(err){_iterator5.e(err)}finally{_iterator5.f()}}}}while(queue.length>index)},this.dfs=function(name,visited){var status=visited[name];if(1!==status){if(!status){visited[name]=1;var grouped=_this2.groups[name],deps=_this2.deps[name];if(grouped){var _step6,_iterator6=Object(createForOfIteratorHelper.a)(grouped);try{for(_iterator6.s();!(_step6=_iterator6.n()).done;){var item=_step6.value;_this2.dfs(item,visited)}}catch(err){_iterator6.e(err)}finally{_iterator6.f()}}else{if(!deps)throw new manager_MissingContentError(name);var _step7,_iterator7=Object(createForOfIteratorHelper.a)(deps);try{for(_iterator7.s();!(_step7=_iterator7.n()).done;){var dep=_step7.value;_this2.dfs(dep.content,visited)}}catch(err){_iterator7.e(err)}finally{_iterator7.f()}}visited[name]=2,_this2.dfsPath.push(name)}}else _this2.nonDag.push(name)},this.dfsNonDag=function(name){var visited=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},minimal=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=0;if(!visited[name]){visited[name]=1;var grouped=_this2.groups[name];if(grouped){var _step8,_iterator8=Object(createForOfIteratorHelper.a)(grouped);try{for(_iterator8.s();!(_step8=_iterator8.n()).done;){var item=_step8.value;_this2.dfsNonDag(item,visited)?--n:++n}}catch(err){_iterator8.e(err)}finally{_iterator8.f()}}else{var _step9,_iterator9=Object(createForOfIteratorHelper.a)(_this2.deps[name]);try{for(_iterator9.s();!(_step9=_iterator9.n()).done;){var dep=_step9.value;_this2.dfsNonDag(dep.content,visited,dep.minimal)?--n:++n}}catch(err){_iterator9.e(err)}finally{_iterator9.f()}}visited[name]=2}return n<minimal},this.init(),this.detectDAG(),this.sortGroups(),this.detectInfinity(),this.sortDeps()}return Object(createClass.a)(Manager,[{key:"createConfig",value:function createConfig(topNode){if(this.bfsPath.length){var schema=this.createSchema(topNode),plugins=this.createPlugins(schema);return{state:index_es.b.create({schema:schema,plugins:plugins}),clipboardTextParser:function clipboardTextParser(text,$context,plain){return function _clipboardTextParser(schema,text,$context,plain){return console.log(text,$context,plain),prosemirror_model_dist_index_es.j.empty}(0,text,$context,plain)}}}}},{key:"createSchema",value:function createSchema(){var topNode=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"doc",nodes={},marks={};if(this.eachExtension((function(extension,name){var node=extension.node,mark=extension.mark;node?nodes[name]=node:mark&&(marks[name]=mark)})),!nodes[topNode])throw new manager_MissingContentError(topNode);if(!nodes.text)throw new manager_MissingContentError("text");var schema=new prosemirror_model_dist_index_es.i({nodes:nodes,marks:marks,topNode:topNode});return schema.cached.engine=new engine_Engine,schema}},{key:"createPlugins",value:function createPlugins(schema){for(var allPlugins=[],engine=schema.cached.engine,keys=lodash_union_default()([].concat(Object(toConsumableArray.a)(Object.keys(schema.nodes)),Object(toConsumableArray.a)(Object.keys(schema.marks))),Object.keys(this.extensions)),i=0;i<keys.length;++i){var key=keys[keys.length-i-1],type=schema.nodes[key]||schema.marks[key],_ref2=this.getExtension(key)||{},_ref2$plugins=_ref2.plugins,plugins=void 0===_ref2$plugins?[]:_ref2$plugins,_ref2$rule=_ref2.rule,rule=void 0===_ref2$rule?{}:_ref2$rule,thisPlugins=[];thisPlugins="function"==typeof plugins?plugins(type):plugins,allPlugins.push.apply(allPlugins,Object(toConsumableArray.a)(thisPlugins));var handle=rule.handle,alt=rule.alt;if(handle){var _rule={name:key,handle:handle,alt:alt};type.isBlock?engine.block.ruler.add(_rule):type.isInline&&engine.inline.ruler.add(_rule)}}return allPlugins}}]),Manager}();function reducer(state,action){var target=action.target;if(console.info(action,(new Date).getTime()),action.load){var data=action.load;return Object(immer_esm.a)(state,(function(draft){if(Array.isArray(data)){if(void 0!==state.packs[target])throw new Error("extension pack ".concat(target," is existed"));var _step,pack=[],_iterator=Object(createForOfIteratorHelper.a)(data);try{for(_iterator.s();!(_step=_iterator.n()).done;){var _ref2=_step.value,name=_ref2.name,extension=Object(objectWithoutProperties.a)(_ref2,["name"]);if(void 0!==state.extensions[name])throw new Error("extension ".concat(name," is existed"));draft.extensions[name]=extension,pack.push(name)}}catch(err){_iterator.e(err)}finally{_iterator.f()}draft.packs[target]=pack}else{if(void 0!==state.extensions[target])throw new Error("extension ".concat(target," is existed"));draft.extensions[target]=data}}))}if(action["off-load"]){var _data=action["off-load"];return Object(immer_esm.a)(state,(function(draft){if(Array.isArray(_data)){var _step2,_iterator2=Object(createForOfIteratorHelper.a)(_data);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var name=_step2.value.name;delete draft.extensions[name]}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}delete draft.packs[target]}else delete draft.extensions[target]}))}return state}function hooks_useManager(element){var _useState=Object(react.useState)({version:0}),_useState2=Object(slicedToArray.a)(_useState,2),editor=_useState2[0],setEditor=_useState2[1],viewRef=Object(react.useRef)(),view=editor.view,_useReducer=Object(react.useReducer)(reducer,{extensions:{},packs:{}}),_useReducer2=Object(slicedToArray.a)(_useReducer,2),extensions=_useReducer2[0].extensions,dispatch=_useReducer2[1];return Object(react.useEffect)((function destroyView(){return function(){null==view||view.destroy()}}),[view]),Object(react.useEffect)((function createView(){var _viewRef$current;if(element){var config;try{config=new manager_Manager(extensions).createConfig()}catch(e){if(e instanceof manager_MissingContentError)return void console.warn(e);throw e}if(config){var props=config;if((null===(_viewRef$current=viewRef.current)||void 0===_viewRef$current?void 0:_viewRef$current.dom.parentElement)===element)viewRef.current.update(props),setEditor((function(editor){return Object(immer_esm.a)(editor,(function(draft){draft.version+=1e-6}))}));else{var _view=new dist_index_es.a(element,Object(objectSpread2.a)(Object(objectSpread2.a)({},props),{},{dispatchTransaction:function dispatchTransaction(tr){console.log("Document went from",tr.before.content.toString(),"to",tr.doc.content.toString());var newState=this.state.apply(tr);this.updateState(newState)}}));viewRef.current=_view,setEditor((function(editor){return Object(immer_esm.a)(editor,(function(draft){draft.version+=1,draft.view=_view}))}))}}}}),[extensions,element]),{editor:editor,dispatch:dispatch}}var ExtensionContext=Object(react.createContext)({}),hooks_ExtensionContextProvider=ExtensionContext.Provider;function hooks_useExtensionContext(name){var _useContext=Object(react.useContext)(ExtensionContext),dispatch=_useContext.dispatch,context=Object(objectWithoutProperties.a)(_useContext,["dispatch"]),extensionDispatch=Object(react.useCallback)((function(events){name&&(null==dispatch||dispatch(Object(objectSpread2.a)(Object(objectSpread2.a)({},events),{},{target:name})))}),[name,dispatch]);return Object(objectSpread2.a)(Object(objectSpread2.a)({},context),{},{dispatch:extensionDispatch,name:name})}function useExtension(extension,name){var context=hooks_useExtensionContext(name),dispatch=context.dispatch;return Object(react.useEffect)((function setupExtension(){return dispatch({load:extension}),function(){return dispatch({"off-load":extension})}}),[dispatch,extension]),context}function hooks_useContentDOM(editorView){if(editorView){var node;try{var pos=editorView.state.selection.$anchor.start();node=editorView.domAtPos(pos).node}catch(e){if(e instanceof Error&&e.message.includes("Invalid position"))return;throw e}return node instanceof HTMLElement&&node.classList.contains("extension-content")?node:void 0}}try{hooks_useManager.displayName="useManager",hooks_useManager.__docgenInfo={description:"",displayName:"useManager",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/editor/hooks.tsx#useManager"]={docgenInfo:hooks_useManager.__docgenInfo,name:"useManager",path:"src/components/editor/hooks.tsx#useManager"})}catch(__react_docgen_typescript_loader_error){}try{hooks_useExtensionContext.displayName="useExtensionContext",hooks_useExtensionContext.__docgenInfo={description:"",displayName:"useExtensionContext",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/editor/hooks.tsx#useExtensionContext"]={docgenInfo:hooks_useExtensionContext.__docgenInfo,name:"useExtensionContext",path:"src/components/editor/hooks.tsx#useExtensionContext"})}catch(__react_docgen_typescript_loader_error){}try{hooks_useContentDOM.displayName="useContentDOM",hooks_useContentDOM.__docgenInfo={description:"",displayName:"useContentDOM",props:{state:{defaultValue:null,description:"The view's current [state](#state.EditorState).",name:"state",required:!0,type:{name:"EditorState<any>"}},dom:{defaultValue:null,description:"An editable DOM node containing the document. (You probably\nshould not directly interfere with its content.)",name:"dom",required:!0,type:{name:"Element"}},editable:{defaultValue:null,description:"Indicates whether the editor is currently [editable](#view.EditorProps.editable).",name:"editable",required:!0,type:{name:"boolean"}},dragging:{defaultValue:null,description:"When editor content is being dragged, this object contains\ninformation about the dragged slice and whether it is being\ncopied or moved. At any other time, it is null.",name:"dragging",required:!1,type:{name:"{ slice: Slice<any>; move: boolean; } | null"}},composing:{defaultValue:null,description:"Holds true when a composition is active.",name:"composing",required:!0,type:{name:"boolean"}},props:{defaultValue:null,description:"The view's current [props](#view.EditorProps).",name:"props",required:!0,type:{name:"DirectEditorProps<any>"}},update:{defaultValue:null,description:"Update the view's props. Will immediately cause an update to\nthe DOM.",name:"update",required:!0,type:{name:"(props: DirectEditorProps<any>) => void"}},setProps:{defaultValue:null,description:"Update the view by updating existing props object with the object\ngiven as argument. Equivalent to `view.update(Object.assign({},\nview.props, props))`.",name:"setProps",required:!0,type:{name:"(props: Partial<DirectEditorProps<any>>) => void"}},updateState:{defaultValue:null,description:"Update the editor's `state` prop, without touching any of the\nother props.",name:"updateState",required:!0,type:{name:"(state: EditorState<any>) => void"}},someProp:{defaultValue:null,description:"Goes over the values of a prop, first those provided directly,\nthen those from plugins (in order), and calls `f` every time a\nnon-undefined value is found. When `f` returns a truthy value,\nthat is immediately returned. When `f` isn't provided, it is\ntreated as the identity function (the prop value is returned\ndirectly).",name:"someProp",required:!0,type:{name:"(propName: string, f?: ((prop: any) => any) | undefined) => any"}},hasFocus:{defaultValue:null,description:"Query whether the view has focus.",name:"hasFocus",required:!0,type:{name:"() => boolean"}},focus:{defaultValue:null,description:"Focus the editor.",name:"focus",required:!0,type:{name:"() => void"}},root:{defaultValue:null,description:"Get the document root in which the editor exists. This will\nusually be the top-level `document`, but might be a [shadow\nDOM](https://developer.mozilla.org/en-US/docs/Web/Web_Components/Shadow_DOM)\nroot if the editor is inside one.",name:"root",required:!0,type:{name:"Document | DocumentFragment"}},posAtCoords:{defaultValue:null,description:"Given a pair of viewport coordinates, return the document\nposition that corresponds to them. May return null if the given\ncoordinates aren't inside of the editor. When an object is\nreturned, its `pos` property is the position nearest to the\ncoordinates, and its `inside` property holds the position of the\ninner node that the position falls inside of, or -1 if it is at\nthe top level, not in any node.",name:"posAtCoords",required:!0,type:{name:"(coords: { left: number; top: number; }) => { pos: number; inside: number; } | null | undefined"}},coordsAtPos:{defaultValue:null,description:"Returns the viewport rectangle at a given document position.\n`left` and `right` will be the same number, as this returns a\nflat cursor-ish rectangle. If the position is between two things\nthat aren't directly adjacent, `side` determines which element is\nused. When < 0, the element before the position is used,\notherwise the element after.",name:"coordsAtPos",required:!0,type:{name:"(pos: number, side?: number | undefined) => { left: number; right: number; top: number; bottom: number; }"}},domAtPos:{defaultValue:null,description:"Find the DOM position that corresponds to the given document\nposition. Note that you should **not** mutate the editor's\ninternal DOM, only inspect it (and even that is usually not\nnecessary).",name:"domAtPos",required:!0,type:{name:"(pos: number) => { node: Node; offset: number; }"}},nodeDOM:{defaultValue:null,description:"Find the DOM node that represents the document node after the\ngiven position. May return null when the position doesn't point\nin front of a node or if the node is inside an opaque node view.\n\nThis is intended to be able to call things like getBoundingClientRect\non that DOM node. Do not mutate the editor DOM directly, or add\nstyling this way, since that will be immediately overriden by the\neditor as it redraws the node.",name:"nodeDOM",required:!0,type:{name:"(pos: number) => Node | null | undefined"}},posAtDOM:{defaultValue:null,description:"Find the document position that corresponds to a given DOM position.\n(Whenever possible, it is preferable to inspect the document structure\ndirectly, rather than poking around in the DOM, but sometimes—for\nexample when interpreting an event target—you don't have a choice.)\n\nThe bias (default: -1) parameter can be used to influence which side of\na DOM node to use when the position is inside a leaf node.",name:"posAtDOM",required:!0,type:{name:"(node: Node, offset: number, bias?: number | null | undefined) => number"}},endOfTextblock:{defaultValue:null,description:"Find out whether the selection is at the end of a textblock when\nmoving in a given direction. When, for example, given `\"left\"`,\nit will return true if moving left from the current cursor\nposition would leave that position's parent textblock. Will apply\nto the view's current state by default, but it is possible to\npass a different state.",name:"endOfTextblock",required:!0,type:{name:'(dir: "up" | "down" | "left" | "right" | "forward" | "backward", state?: EditorState<any> | undefined) => boolean'}},destroy:{defaultValue:null,description:"Removes the editor from the DOM and destroys all [node\nviews](#view.NodeView).",name:"destroy",required:!0,type:{name:"() => void"}},dispatch:{defaultValue:null,description:"Dispatch a transaction. Will call\n[`dispatchTransaction`](#view.DirectEditorProps.dispatchTransaction)\nwhen given, and otherwise defaults to applying the transaction to\nthe current state and calling\n[`updateState`](#view.EditorView.updateState) with the result.\nThis method is bound to the view instance, so that it can be\neasily passed around.",name:"dispatch",required:!0,type:{name:"(tr: Transaction<any>) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/editor/hooks.tsx#useContentDOM"]={docgenInfo:hooks_useContentDOM.__docgenInfo,name:"useContentDOM",path:"src/components/editor/hooks.tsx#useContentDOM"})}catch(__react_docgen_typescript_loader_error){}try{hooks_ExtensionContextProvider.displayName="ExtensionContextProvider",hooks_ExtensionContextProvider.__docgenInfo={description:"",displayName:"ExtensionContextProvider",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/editor/hooks.tsx#ExtensionContextProvider"]={docgenInfo:hooks_ExtensionContextProvider.__docgenInfo,name:"ExtensionContextProvider",path:"src/components/editor/hooks.tsx#ExtensionContextProvider"})}catch(__react_docgen_typescript_loader_error){}function extension_ExtensionProvider(_ref){var children=_ref.children,props=Object(objectWithoutProperties.a)(_ref,["children"]);return Object(jsx_runtime.jsx)(jsx_runtime.Fragment,{children:react_default.a.Children.map(children,(function(child){return Object(jsx_runtime.jsx)(hooks_ExtensionContextProvider,{value:props,children:child})}))})}try{extension_ExtensionProvider.displayName="ExtensionProvider",extension_ExtensionProvider.__docgenInfo={description:"",displayName:"ExtensionProvider",props:{editor:{defaultValue:null,description:"",name:"editor",required:!0,type:{name:"EditorHandle"}},dispatch:{defaultValue:null,description:"",name:"dispatch",required:!0,type:{name:"Dispatch<ExtensionAction>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/editor/extension.tsx#ExtensionProvider"]={docgenInfo:extension_ExtensionProvider.__docgenInfo,name:"ExtensionProvider",path:"src/components/editor/extension.tsx#ExtensionProvider"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__(1194);function flatFragment(children){var data=[];return react_default.a.Children.forEach(children,(function(child){react_is_default.a.isFragment(child)?data.push.apply(data,Object(toConsumableArray.a)(child.props.children)):data.push(child)})),data}var editor_editor=Object(react.forwardRef)((function Editor(props,ref){var _ref=props||{},text=_ref.text,style=_ref.style,children=_ref.children,divRef=Object(react.useRef)(null),context=hooks_useManager(divRef.current),editor=context.editor;return function useDevTools(editor){Object(react.useEffect)((function(){0}),[editor])}(editor),Object(react.useImperativeHandle)(ref,(function(){return editor}),[editor]),Object(react.useEffect)((function(){var view=null==editor?void 0:editor.view;if(void 0!==text&&view&&view.dom.parentElement===divRef.current){var _AllSelection=new index_es.a(view.state.doc),from=_AllSelection.from,to=_AllSelection.to;view.someProp("handleTextInput",(function(f){return f(view,from,to,text)}))||view.dispatch(view.state.tr.delete(from,to).insertText(text).scrollIntoView())}}),[text,editor]),Object(jsx_runtime.jsx)("div",{ref:divRef,className:"editor",style:style,children:Object(jsx_runtime.jsx)(extension_ExtensionProvider,Object(objectSpread2.a)(Object(objectSpread2.a)({},context),{},{children:flatFragment(children)}))})}));try{editor.displayName="editor",editor.__docgenInfo={description:"",displayName:"editor",props:{text:{defaultValue:null,description:"",name:"text",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"Record<string, ReactText>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/editor/editor.tsx#editor"]={docgenInfo:editor.__docgenInfo,name:"editor",path:"src/components/editor/editor.tsx#editor"})}catch(__react_docgen_typescript_loader_error){}var defineProperty=__webpack_require__(158),plugin_Plugin=function(_ProsemirrorPlugin){Object(inherits.a)(Plugin,_ProsemirrorPlugin);var _super=Object(createSuper.a)(Plugin);function Plugin(key,props){var _this;return Object(classCallCheck.a)(this,Plugin),(_this=_super.call(this,{key:new index_es.e(key),state:{init:function init(config,instance){var _self$initState;return null===(_self$initState=this.initState)||void 0===_self$initState?void 0:_self$initState.call(this,config,instance)},apply:function apply(tr,value,oldState,newState){var _self$applyState;return null===(_self$applyState=this.applyState)||void 0===_self$applyState?void 0:_self$applyState.call(this,tr,value,oldState,newState)}},props:Object(objectSpread2.a)({handleTextInput:function handleTextInput(view,from,to,text){var _self$handleTextInput;return!!(null===(_self$handleTextInput=this.handleTextInput)||void 0===_self$handleTextInput?void 0:_self$handleTextInput.call(this,view,from,to,text))},handleKeyDown:function handleKeyDown(view,event){var _self$handleKeyDown;return(null===(_self$handleKeyDown=this.handleKeyDown)||void 0===_self$handleKeyDown?void 0:_self$handleKeyDown.call(this,view,event))||!1},decorations:function decorations(state){var _self$decorations;return null===(_self$decorations=this.decorations)||void 0===_self$decorations?void 0:_self$decorations.call(this,state)}},props)})).initState=void 0,_this.applyState=void 0,_this.handleTextInput=void 0,_this.handleKeyDown=void 0,_this.decorations=void 0,_this}return Plugin}(index_es.d),plugin_ExtensionPlugin=function(_Plugin){Object(inherits.a)(ExtensionPlugin,_Plugin);var _super2=Object(createSuper.a)(ExtensionPlugin);function ExtensionPlugin(type,props){var _this2;return Object(classCallCheck.a)(this,ExtensionPlugin),(_this2=_super2.call(this,type.name,Object(objectSpread2.a)({nodeViews:Object(defineProperty.a)({},type.name,(function(node,view,getPos,decorations){var _this2$createNodeView,_this3;return null===(_this2$createNodeView=(_this3=_this2).createNodeView)||void 0===_this2$createNodeView?void 0:_this2$createNodeView.call(_this3,node,view,getPos,decorations)}))},props))).type=type,_this2.name=_this2.type.name,_this2.engine=_this2.type.schema.cached.engine,_this2.schema=_this2.type.schema,_this2.createNodeView=void 0,_this2}return Object(createClass.a)(ExtensionPlugin,[{key:"textBefore",value:function textBefore($from){var max=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;return $from.parent.textBetween(Math.max(0,$from.parentOffset-max),$from.parentOffset,void 0,"￼")}}],[{key:"createDefaultNode",value:function createDefaultNode(node){var _node$type$spec$toDOM,_node$type$spec,spec=null===(_node$type$spec$toDOM=(_node$type$spec=node.type.spec).toDOM)||void 0===_node$type$spec$toDOM?void 0:_node$type$spec$toDOM.call(_node$type$spec,node);return spec?prosemirror_model_dist_index_es.b.renderSpec(document,spec):void 0}}]),ExtensionPlugin}(plugin_Plugin);try{plugin_Plugin.displayName="Plugin",plugin_Plugin.__docgenInfo={description:"",displayName:"Plugin",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/editor/plugin.tsx#Plugin"]={docgenInfo:plugin_Plugin.__docgenInfo,name:"Plugin",path:"src/components/editor/plugin.tsx#Plugin"})}catch(__react_docgen_typescript_loader_error){}try{plugin_ExtensionPlugin.displayName="ExtensionPlugin",plugin_ExtensionPlugin.__docgenInfo={description:"",displayName:"ExtensionPlugin",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/editor/plugin.tsx#ExtensionPlugin"]={docgenInfo:plugin_ExtensionPlugin.__docgenInfo,name:"ExtensionPlugin",path:"src/components/editor/plugin.tsx#ExtensionPlugin"})}catch(__react_docgen_typescript_loader_error){}__webpack_exports__.c=editor_editor;try{editor.displayName="editor",editor.__docgenInfo={description:"",displayName:"editor",props:{text:{defaultValue:null,description:"",name:"text",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"Record<string, ReactText>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/editor/index.tsx#editor"]={docgenInfo:editor.__docgenInfo,name:"editor",path:"src/components/editor/index.tsx#editor"})}catch(__react_docgen_typescript_loader_error){}try{useManager.displayName="useManager",useManager.__docgenInfo={description:"",displayName:"useManager",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/editor/index.tsx#useManager"]={docgenInfo:useManager.__docgenInfo,name:"useManager",path:"src/components/editor/index.tsx#useManager"})}catch(__react_docgen_typescript_loader_error){}try{useExtensionContext.displayName="useExtensionContext",useExtensionContext.__docgenInfo={description:"",displayName:"useExtensionContext",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/editor/index.tsx#useExtensionContext"]={docgenInfo:useExtensionContext.__docgenInfo,name:"useExtensionContext",path:"src/components/editor/index.tsx#useExtensionContext"})}catch(__react_docgen_typescript_loader_error){}try{useContentDOM.displayName="useContentDOM",useContentDOM.__docgenInfo={description:"",displayName:"useContentDOM",props:{state:{defaultValue:null,description:"The view's current [state](#state.EditorState).",name:"state",required:!0,type:{name:"EditorState<any>"}},dom:{defaultValue:null,description:"An editable DOM node containing the document. (You probably\nshould not directly interfere with its content.)",name:"dom",required:!0,type:{name:"Element"}},editable:{defaultValue:null,description:"Indicates whether the editor is currently [editable](#view.EditorProps.editable).",name:"editable",required:!0,type:{name:"boolean"}},dragging:{defaultValue:null,description:"When editor content is being dragged, this object contains\ninformation about the dragged slice and whether it is being\ncopied or moved. At any other time, it is null.",name:"dragging",required:!1,type:{name:"{ slice: Slice<any>; move: boolean; } | null"}},composing:{defaultValue:null,description:"Holds true when a composition is active.",name:"composing",required:!0,type:{name:"boolean"}},props:{defaultValue:null,description:"The view's current [props](#view.EditorProps).",name:"props",required:!0,type:{name:"DirectEditorProps<any>"}},update:{defaultValue:null,description:"Update the view's props. Will immediately cause an update to\nthe DOM.",name:"update",required:!0,type:{name:"(props: DirectEditorProps<any>) => void"}},setProps:{defaultValue:null,description:"Update the view by updating existing props object with the object\ngiven as argument. Equivalent to `view.update(Object.assign({},\nview.props, props))`.",name:"setProps",required:!0,type:{name:"(props: Partial<DirectEditorProps<any>>) => void"}},updateState:{defaultValue:null,description:"Update the editor's `state` prop, without touching any of the\nother props.",name:"updateState",required:!0,type:{name:"(state: EditorState<any>) => void"}},someProp:{defaultValue:null,description:"Goes over the values of a prop, first those provided directly,\nthen those from plugins (in order), and calls `f` every time a\nnon-undefined value is found. When `f` returns a truthy value,\nthat is immediately returned. When `f` isn't provided, it is\ntreated as the identity function (the prop value is returned\ndirectly).",name:"someProp",required:!0,type:{name:"(propName: string, f?: ((prop: any) => any) | undefined) => any"}},hasFocus:{defaultValue:null,description:"Query whether the view has focus.",name:"hasFocus",required:!0,type:{name:"() => boolean"}},focus:{defaultValue:null,description:"Focus the editor.",name:"focus",required:!0,type:{name:"() => void"}},root:{defaultValue:null,description:"Get the document root in which the editor exists. This will\nusually be the top-level `document`, but might be a [shadow\nDOM](https://developer.mozilla.org/en-US/docs/Web/Web_Components/Shadow_DOM)\nroot if the editor is inside one.",name:"root",required:!0,type:{name:"Document | DocumentFragment"}},posAtCoords:{defaultValue:null,description:"Given a pair of viewport coordinates, return the document\nposition that corresponds to them. May return null if the given\ncoordinates aren't inside of the editor. When an object is\nreturned, its `pos` property is the position nearest to the\ncoordinates, and its `inside` property holds the position of the\ninner node that the position falls inside of, or -1 if it is at\nthe top level, not in any node.",name:"posAtCoords",required:!0,type:{name:"(coords: { left: number; top: number; }) => { pos: number; inside: number; } | null | undefined"}},coordsAtPos:{defaultValue:null,description:"Returns the viewport rectangle at a given document position.\n`left` and `right` will be the same number, as this returns a\nflat cursor-ish rectangle. If the position is between two things\nthat aren't directly adjacent, `side` determines which element is\nused. When < 0, the element before the position is used,\notherwise the element after.",name:"coordsAtPos",required:!0,type:{name:"(pos: number, side?: number | undefined) => { left: number; right: number; top: number; bottom: number; }"}},domAtPos:{defaultValue:null,description:"Find the DOM position that corresponds to the given document\nposition. Note that you should **not** mutate the editor's\ninternal DOM, only inspect it (and even that is usually not\nnecessary).",name:"domAtPos",required:!0,type:{name:"(pos: number) => { node: Node; offset: number; }"}},nodeDOM:{defaultValue:null,description:"Find the DOM node that represents the document node after the\ngiven position. May return null when the position doesn't point\nin front of a node or if the node is inside an opaque node view.\n\nThis is intended to be able to call things like getBoundingClientRect\non that DOM node. Do not mutate the editor DOM directly, or add\nstyling this way, since that will be immediately overriden by the\neditor as it redraws the node.",name:"nodeDOM",required:!0,type:{name:"(pos: number) => Node | null | undefined"}},posAtDOM:{defaultValue:null,description:"Find the document position that corresponds to a given DOM position.\n(Whenever possible, it is preferable to inspect the document structure\ndirectly, rather than poking around in the DOM, but sometimes—for\nexample when interpreting an event target—you don't have a choice.)\n\nThe bias (default: -1) parameter can be used to influence which side of\na DOM node to use when the position is inside a leaf node.",name:"posAtDOM",required:!0,type:{name:"(node: Node, offset: number, bias?: number | null | undefined) => number"}},endOfTextblock:{defaultValue:null,description:"Find out whether the selection is at the end of a textblock when\nmoving in a given direction. When, for example, given `\"left\"`,\nit will return true if moving left from the current cursor\nposition would leave that position's parent textblock. Will apply\nto the view's current state by default, but it is possible to\npass a different state.",name:"endOfTextblock",required:!0,type:{name:'(dir: "up" | "down" | "left" | "right" | "forward" | "backward", state?: EditorState<any> | undefined) => boolean'}},destroy:{defaultValue:null,description:"Removes the editor from the DOM and destroys all [node\nviews](#view.NodeView).",name:"destroy",required:!0,type:{name:"() => void"}},dispatch:{defaultValue:null,description:"Dispatch a transaction. Will call\n[`dispatchTransaction`](#view.DirectEditorProps.dispatchTransaction)\nwhen given, and otherwise defaults to applying the transaction to\nthe current state and calling\n[`updateState`](#view.EditorView.updateState) with the result.\nThis method is bound to the view instance, so that it can be\neasily passed around.",name:"dispatch",required:!0,type:{name:"(tr: Transaction<any>) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/editor/index.tsx#useContentDOM"]={docgenInfo:useContentDOM.__docgenInfo,name:"useContentDOM",path:"src/components/editor/index.tsx#useContentDOM"})}catch(__react_docgen_typescript_loader_error){}try{ExtensionContextProvider.displayName="ExtensionContextProvider",ExtensionContextProvider.__docgenInfo={description:"",displayName:"ExtensionContextProvider",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/editor/index.tsx#ExtensionContextProvider"]={docgenInfo:ExtensionContextProvider.__docgenInfo,name:"ExtensionContextProvider",path:"src/components/editor/index.tsx#ExtensionContextProvider"})}catch(__react_docgen_typescript_loader_error){}try{ExtensionProvider.displayName="ExtensionProvider",ExtensionProvider.__docgenInfo={description:"",displayName:"ExtensionProvider",props:{editor:{defaultValue:null,description:"",name:"editor",required:!0,type:{name:"EditorHandle"}},dispatch:{defaultValue:null,description:"",name:"dispatch",required:!0,type:{name:"Dispatch<ExtensionAction>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/editor/index.tsx#ExtensionProvider"]={docgenInfo:ExtensionProvider.__docgenInfo,name:"ExtensionProvider",path:"src/components/editor/index.tsx#ExtensionProvider"})}catch(__react_docgen_typescript_loader_error){}try{isSpace.displayName="isSpace",isSpace.__docgenInfo={description:"",displayName:"isSpace",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/editor/index.tsx#isSpace"]={docgenInfo:isSpace.__docgenInfo,name:"isSpace",path:"src/components/editor/index.tsx#isSpace"})}catch(__react_docgen_typescript_loader_error){}try{isWhiteSpace.displayName="isWhiteSpace",isWhiteSpace.__docgenInfo={description:"",displayName:"isWhiteSpace",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/editor/index.tsx#isWhiteSpace"]={docgenInfo:isWhiteSpace.__docgenInfo,name:"isWhiteSpace",path:"src/components/editor/index.tsx#isWhiteSpace"})}catch(__react_docgen_typescript_loader_error){}try{isPunctChar.displayName="isPunctChar",isPunctChar.__docgenInfo={description:"",displayName:"isPunctChar",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/editor/index.tsx#isPunctChar"]={docgenInfo:isPunctChar.__docgenInfo,name:"isPunctChar",path:"src/components/editor/index.tsx#isPunctChar"})}catch(__react_docgen_typescript_loader_error){}try{isMdAsciiPunct.displayName="isMdAsciiPunct",isMdAsciiPunct.__docgenInfo={description:"",displayName:"isMdAsciiPunct",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/editor/index.tsx#isMdAsciiPunct"]={docgenInfo:isMdAsciiPunct.__docgenInfo,name:"isMdAsciiPunct",path:"src/components/editor/index.tsx#isMdAsciiPunct"})}catch(__react_docgen_typescript_loader_error){}try{expandTab.displayName="expandTab",expandTab.__docgenInfo={description:"",displayName:"expandTab",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/editor/index.tsx#expandTab"]={docgenInfo:expandTab.__docgenInfo,name:"expandTab",path:"src/components/editor/index.tsx#expandTab"})}catch(__react_docgen_typescript_loader_error){}try{Plugin.displayName="Plugin",Plugin.__docgenInfo={description:"",displayName:"Plugin",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/editor/index.tsx#Plugin"]={docgenInfo:Plugin.__docgenInfo,name:"Plugin",path:"src/components/editor/index.tsx#Plugin"})}catch(__react_docgen_typescript_loader_error){}try{ExtensionPlugin.displayName="ExtensionPlugin",ExtensionPlugin.__docgenInfo={description:"",displayName:"ExtensionPlugin",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/editor/index.tsx#ExtensionPlugin"]={docgenInfo:ExtensionPlugin.__docgenInfo,name:"ExtensionPlugin",path:"src/components/editor/index.tsx#ExtensionPlugin"})}catch(__react_docgen_typescript_loader_error){}},192:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Strong}));var _editor__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(19),extension=(__webpack_require__(1303),{mark:{parseDOM:[{tag:"b"},{tag:"strong"},{style:"font-style",getAttrs:function getAttrs(value){return"bold"===value&&null}}],toDOM:function toDOM(){return["strong"]}}});function Strong(){return Object(_editor__WEBPACK_IMPORTED_MODULE_0__.f)(extension,"strong"),null}},193:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Html}));var editor=__webpack_require__(19),html_tags=["address","article","aside","base","basefont","button","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],attrValue="(?:".concat("[^\"'=<>`\\x00-\\x20]+","|").concat("'[^']*'","|").concat('"[^"]*"',")"),openTag="<[A-Za-z][A-Za-z0-9\\-]*"+"(?:\\s+".concat("[a-zA-Z_:][a-zA-Z0-9:._-]*","(?:\\s*=\\s*").concat(attrValue,")?)")+"*\\s*\\/?>",closeTag="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",HTML_OPEN_CLOSE_TAG_RE=(new RegExp("^(?:".concat(openTag,"|").concat(closeTag,"|").concat("\x3c!----\x3e|\x3c!--(?:-?[^>-])(?:-?[^-])*--\x3e","|").concat("<[?][\\s\\S]*?[?]>","|").concat("<![A-Z]+\\s+[^>]*>","|").concat("<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",")")),new RegExp("^(?:".concat(openTag,"|").concat(closeTag,")"))),HTML_SEQUENCES=[[/^<(script|pre|style)(?=(\s|>|$))/i,/<\/(script|pre|style)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?(".concat(html_tags.join("|"),")(?=(\\s|/?>|$))"),"i"),/^$/,!0],[new RegExp("".concat(HTML_OPEN_CLOSE_TAG_RE.source,"\\s*$")),/^$/,!1]],html_handle=function html(state,silent,startLine,endLine){if(state.sCount[startLine]-state.blkIndent>=4)return!1;var pos=state.bMarks[startLine]+state.tShift[startLine];if(60!==state.src.charCodeAt(pos))return!1;var i,max=state.eMarks[startLine],lineText=state.src.slice(pos,max);for(i=0;i<HTML_SEQUENCES.length&&!HTML_SEQUENCES[i][0].test(lineText);i++);if(i===HTML_SEQUENCES.length)return!1;if(silent)return HTML_SEQUENCES[i][2];var nextLine=startLine+1;if(!HTML_SEQUENCES[i][1].test(lineText))for(;nextLine<endLine&&!(state.sCount[nextLine]<state.blkIndent);nextLine++)if(pos=state.bMarks[nextLine]+state.tShift[nextLine],max=state.eMarks[nextLine],lineText=state.src.slice(pos,max),HTML_SEQUENCES[i][1].test(lineText)){0!==lineText.length&&nextLine++;break}state.line=nextLine;var token=state.push(this.name,0);return token.map=[startLine,nextLine],token.content=state.getLines(startLine,nextLine,state.blkIndent,!0),!0},classCallCheck=__webpack_require__(32),inherits=__webpack_require__(40),createSuper=__webpack_require__(41),slicedToArray=__webpack_require__(140),createClass=__webpack_require__(58),jsx_runtime=__webpack_require__(42),react=__webpack_require__(0),index_es=__webpack_require__(399),src=__webpack_require__(593),html_runtime=__webpack_require__(591),dd=new src.a,scriptState=Object(index_es.a)(0),view_NodeView=function(){function NodeView(node){Object(classCallCheck.a)(this,NodeView),this.node=node,this.dom=void 0,this.contentDOM=void 0;var _ref=editor.a.createDefaultNode(node),dom=_ref.dom,contentDOM=_ref.contentDOM;this.dom=dom,this.contentDOM=contentDOM,this.setView(node)}return Object(createClass.a)(NodeView,[{key:"update",value:function update(node){return node.type===this.node.type&&(this.setView(node),!0)}},{key:"setView",value:function setView(node){var from=this.dom.querySelector(".view"),to=from.cloneNode();to.innerHTML=node.textContent,console.log(dd.diff(from,to)),from.innerHTML=node.textContent,from.querySelector("script")&&scriptState.set((function(x){return x+1}))}}]),NodeView}();function useView(_ref2){_ref2.view;return function useScript(name){var state=Object(index_es.b)(scriptState),_useState=Object(react.useState)(),_useState2=Object(slicedToArray.a)(_useState,2),testingData=_useState2[0],setTestingData=_useState2[1];return Object(react.useEffect)((function(){var codes=[];document.querySelectorAll("div.".concat(name,">div.view script")).forEach((function(script){script.textContent&&codes.push(script.textContent)}));var runtime=new html_runtime.a(codes,{onReturned:function onReturned(closure){closure.result&&setTestingData(closure.result)}});return runtime.evaluate(),function(){return runtime.dispose()}}),[state.value,name]),testingData?Object(jsx_runtime.jsx)("span",{children:testingData}):null}(_ref2.name)}try{useView.displayName="useView",useView.__docgenInfo={description:"",displayName:"useView",props:{view:{defaultValue:null,description:"",name:"view",required:!1,type:{name:"EditorView<any>"}},name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/extensions/nodes/html/view.tsx#useView"]={docgenInfo:useView.__docgenInfo,name:"useView",path:"src/components/extensions/nodes/html/view.tsx#useView"})}catch(__react_docgen_typescript_loader_error){}var plugins_HtmlPlugin=function(_ExtensionPlugin){Object(inherits.a)(HtmlPlugin,_ExtensionPlugin);var _super=Object(createSuper.a)(HtmlPlugin);function HtmlPlugin(){var _this;Object(classCallCheck.a)(this,HtmlPlugin);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_super.call.apply(_super,[this].concat(args))).createNodeView=function(node){return new view_NodeView(node)},_this}return HtmlPlugin}(editor.a);function plugins(type){return[new plugins_HtmlPlugin(type)]}try{plugins.displayName="plugins",plugins.__docgenInfo={description:"",displayName:"plugins",props:{name:{defaultValue:null,description:"The name the node type has in this schema.",name:"name",required:!0,type:{name:"string"}},schema:{defaultValue:null,description:"A link back to the `Schema` the node type belongs to.",name:"schema",required:!0,type:{name:"any"}},spec:{defaultValue:null,description:"The spec that this type is based on",name:"spec",required:!0,type:{name:"NodeSpec"}},contentMatch:{defaultValue:null,description:"The starting match of the node type's content expression.",name:"contentMatch",required:!0,type:{name:"ContentMatch<any>"}},inlineContent:{defaultValue:null,description:"True if this node type has inline content.",name:"inlineContent",required:!0,type:{name:"boolean"}},isBlock:{defaultValue:null,description:"True if this is a block type",name:"isBlock",required:!0,type:{name:"boolean"}},isText:{defaultValue:null,description:"True if this is the text node type.",name:"isText",required:!0,type:{name:"boolean"}},isInline:{defaultValue:null,description:"True if this is an inline type.",name:"isInline",required:!0,type:{name:"boolean"}},isTextblock:{defaultValue:null,description:"True if this is a textblock type, a block that contains inline\ncontent.",name:"isTextblock",required:!0,type:{name:"boolean"}},isLeaf:{defaultValue:null,description:"True for node types that allow no content.",name:"isLeaf",required:!0,type:{name:"boolean"}},isAtom:{defaultValue:null,description:"True when this node is an atom, i.e. when it does not have\ndirectly editable content.",name:"isAtom",required:!0,type:{name:"boolean"}},hasRequiredAttrs:{defaultValue:null,description:"Tells you whether this node type has any required attributes.",name:"hasRequiredAttrs",required:!0,type:{name:"() => boolean"}},create:{defaultValue:null,description:"Create a `Node` of this type. The given attributes are\nchecked and defaulted (you can pass `null` to use the type's\ndefaults entirely, if no required attributes exist). `content`\nmay be a `Fragment`, a node, an array of nodes, or\n`null`. Similarly `marks` may be `null` to default to the empty\nset of marks.",name:"create",required:!0,type:{name:"(attrs?: { [key: string]: any; } | null | undefined, content?: ProsemirrorNode<any> | Fragment<any> | ProsemirrorNode<any>[] | undefined, marks?: Mark<...>[] | undefined) => ProsemirrorNode<...>"}},createChecked:{defaultValue:null,description:"Like [`create`](#model.NodeType.create), but check the given content\nagainst the node type's content restrictions, and throw an error\nif it doesn't match.",name:"createChecked",required:!0,type:{name:"(attrs?: { [key: string]: any; } | null | undefined, content?: ProsemirrorNode<any> | Fragment<any> | ProsemirrorNode<any>[] | undefined, marks?: Mark<...>[] | undefined) => ProsemirrorNode<...>"}},createAndFill:{defaultValue:null,description:"Like [`create`](#model.NodeType.create), but see if it is necessary to\nadd nodes to the start or end of the given fragment to make it\nfit the node. If no fitting wrapping can be found, return null.\nNote that, due to the fact that required nodes can always be\ncreated, this will always succeed if you pass null or\n`Fragment.empty` as content.",name:"createAndFill",required:!0,type:{name:"(attrs?: { [key: string]: any; } | null | undefined, content?: ProsemirrorNode<any> | Fragment<any> | ProsemirrorNode<any>[] | undefined, marks?: Mark<...>[] | undefined) => ProsemirrorNode<...> | ... 1 more ... | undefined"}},validContent:{defaultValue:null,description:"Returns true if the given fragment is valid content for this node\ntype with the given attributes.",name:"validContent",required:!0,type:{name:"(content: Fragment<any>) => boolean"}},allowsMarkType:{defaultValue:null,description:"Check whether the given mark type is allowed in this node.",name:"allowsMarkType",required:!0,type:{name:"(markType: MarkType<any>) => boolean"}},allowsMarks:{defaultValue:null,description:"Test whether the given set of marks are allowed in this node.",name:"allowsMarks",required:!0,type:{name:"(marks: Mark<any>[]) => boolean"}},allowedMarks:{defaultValue:null,description:"Removes the marks that are not allowed in this node from the given set.",name:"allowedMarks",required:!0,type:{name:"(marks: Mark<any>[]) => Mark<any>[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/extensions/nodes/html/plugins.tsx#plugins"]={docgenInfo:plugins.__docgenInfo,name:"plugins",path:"src/components/extensions/nodes/html/plugins.tsx#plugins"})}catch(__react_docgen_typescript_loader_error){}var extension={plugins:plugins,rule:{handle:html_handle,alt:["paragraph","reference","blockquote"]},node:{content:"text*",marks:"",group:"block",code:!0,defining:!0,draggable:!1,parseDOM:[{tag:"div",contentElement:">pre>code",preserveWhitespace:"full",getAttrs:function getAttrs(node){if(!node.querySelector(">div.view"))return!1}}],toDOM:function toDOM(node){return["div",{class:node.type.name},["pre",["code",{spellCheck:"false"},0]],["div",{class:"view",contentEditable:"false"}]]}}};function Html(){return useView(Object(editor.f)(extension,"html"))}},194:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return List}));var objectSpread2=__webpack_require__(15),editor=__webpack_require__(19),createForOfIteratorHelper=__webpack_require__(22),list_item={name:"listitem",node:{content:"paragraph block*",defining:!0,draggable:!0,parseDOM:[{tag:"li"}],toDOM:function toDOM(){return["li",0]}}},list_bulleted={name:"bulletedlist",node:{content:"".concat(list_item.name,"+"),group:"block",parseDOM:[{tag:"ul"}],toDOM:function toDOM(){return["ul",0]}}},list_numbered={name:"numberedlist",node:{attrs:{start:{default:1}},content:"".concat(list_item.name,"+"),group:"block",parseDOM:[{tag:"ol",getAttrs:function getAttrs(dom){return{start:parseInt(dom.getAttribute("start")||"1")}}}],toDOM:function toDOM(node){return 1===node.attrs.order?["ol",0]:["ol",{start:node.attrs.start},0]}}};function skipBulletListMarker(state,startLine){var max=state.eMarks[startLine],pos=state.bMarks[startLine]+state.tShift[startLine],marker=state.src.charCodeAt(pos++);return 42!==marker&&45!==marker&&43!==marker||pos===max&&state.env.typing||pos<max&&!Object(editor.e)(state.src.charCodeAt(pos))?-1:pos}function skipOrderedListMarker(state,startLine){var start=state.bMarks[startLine]+state.tShift[startLine],max=state.eMarks[startLine],pos=start;if(pos+1>=max)return-1;var ch=state.src.charCodeAt(pos++);if(ch<48||ch>57)return-1;for(;;){if(pos>=max)return-1;if(!((ch=state.src.charCodeAt(pos++))>=48&&ch<=57)){if(41===ch||46===ch)break;return-1}if(pos-start>=10)return-1}return pos===max&&state.env.typing||pos<max&&!Object(editor.e)(state.src.charCodeAt(pos))?-1:pos}var list_handle=function list(state,silent,startLine,endLine){var tight=!0;if(state.sCount[startLine]-state.blkIndent>=4)return!1;if(state.listIndent>=0&&state.sCount[startLine]-state.listIndent>=4&&state.sCount[startLine]<state.blkIndent)return!1;var posAfterMarker,isOrdered,markerValue,isTerminatingParagraph=!1;if(silent&&"paragraph"===state.parent&&state.tShift[startLine]>=state.blkIndent&&(isTerminatingParagraph=!0),(posAfterMarker=skipOrderedListMarker(state,startLine))>=0){isOrdered=!0;var start=state.bMarks[startLine]+state.tShift[startLine];if(markerValue=Number(state.src.substr(start,posAfterMarker-start-1)),isTerminatingParagraph&&1!==markerValue)return!1}else{if(!((posAfterMarker=skipBulletListMarker(state,startLine))>=0))return!1;isOrdered=!1}if(isTerminatingParagraph&&state.skipSpaces(posAfterMarker)>=state.eMarks[startLine])return!1;var markerCharCode=state.src.charCodeAt(posAfterMarker-1);if(silent)return!0;var listTokIdx=state.tokens.length,openToken=state.push(isOrdered?list_numbered.name:list_bulleted.name,1);isOrdered&&1!==markerValue&&(openToken.attrs={start:markerValue}),openToken.map=[startLine,0],openToken.markup=String.fromCharCode(markerCharCode);var listLines=openToken.map,nextLine=startLine,prevEmptyEnd=!1,terminatorRules=state.engine.block.ruler.getRules(this.name),oldParent=state.parent;for(state.parent=this.name;nextLine<endLine;){for(var pos=posAfterMarker,max=state.eMarks[nextLine],offset=state.sCount[nextLine]+posAfterMarker-(state.bMarks[startLine]+state.tShift[startLine]),initial=offset;pos<max;){var ch=state.src.charCodeAt(pos);if(9===ch)offset+=4-(offset+state.bsCount[nextLine])%4;else{if(32!==ch)break;offset++}pos++}var contentStart=pos,indentAfterMarker=void 0;(indentAfterMarker=contentStart>=max?1:offset-initial)>4&&(indentAfterMarker=1);var indent=initial+indentAfterMarker,_openToken=state.push(list_item.name,1);_openToken.markup=String.fromCharCode(markerCharCode),_openToken.map=[startLine,0];var itemLines=_openToken.map,oldTight=state.tight,oldTShift=state.tShift[startLine],oldSCount=state.sCount[startLine],oldListIndent=state.listIndent;if(state.listIndent=state.blkIndent,state.blkIndent=indent,state.tight=!0,state.tShift[startLine]=contentStart-state.bMarks[startLine],state.sCount[startLine]=offset,contentStart>=max&&state.isEmpty(startLine+1)?state.line=Math.min(state.line+2,endLine):state.engine.block.tokenize(state,startLine,endLine),state.tight&&!prevEmptyEnd||(tight=!1),prevEmptyEnd=state.line-startLine>1&&state.isEmpty(state.line-1),state.blkIndent=state.listIndent,state.listIndent=oldListIndent,state.tShift[startLine]=oldTShift,state.sCount[startLine]=oldSCount,state.tight=oldTight,state.push(list_item.name,-1).markup=String.fromCharCode(markerCharCode),nextLine=startLine=state.line,itemLines[1]=nextLine,contentStart=state.bMarks[startLine],nextLine>=endLine)break;if(state.sCount[nextLine]<state.blkIndent)break;if(state.sCount[startLine]-state.blkIndent>=4)break;var _step,terminate=!1,_iterator=Object(createForOfIteratorHelper.a)(terminatorRules);try{for(_iterator.s();!(_step=_iterator.n()).done;){if((0,_step.value)(state,!0,nextLine,endLine)){terminate=!0;break}}}catch(err){_iterator.e(err)}finally{_iterator.f()}if(terminate)break;if(isOrdered){if((posAfterMarker=skipOrderedListMarker(state,nextLine))<0)break}else if((posAfterMarker=skipBulletListMarker(state,nextLine))<0)break;if(markerCharCode!==state.src.charCodeAt(posAfterMarker-1))break}return state.push(isOrdered?list_numbered.name:list_bulleted.name,-1).markup=String.fromCharCode(markerCharCode),listLines[1]=nextLine,state.line=nextLine,state.parent=oldParent,tight&&function markTightParagraphs(state,idx){for(var level=state.level+2,i=idx+2,l=state.tokens.length-2;i<l;i++)state.tokens[i].level===level&&"paragraph"===state.tokens[i].name&&(state.tokens[i+2].hidden=!0,state.tokens[i].hidden=!0,i+=2)}(state,listTokIdx),!0},classCallCheck=__webpack_require__(32),inherits=__webpack_require__(40),createSuper=__webpack_require__(41),index_es=__webpack_require__(266),dist_index_es=__webpack_require__(267),plugins_ListPlugin=function(_ExtensionPlugin){Object(inherits.a)(ListPlugin,_ExtensionPlugin);var _super=Object(createSuper.a)(ListPlugin);function ListPlugin(type){return Object(classCallCheck.a)(this,ListPlugin),_super.call(this,type,{handleKeyDown:Object(index_es.a)({Enter:Object(dist_index_es.c)(type),Tab:Object(dist_index_es.b)(type),"Shift-Tab":Object(dist_index_es.a)(type)})})}return ListPlugin}(editor.a);function plugins(type){return[new plugins_ListPlugin(type)]}try{plugins.displayName="plugins",plugins.__docgenInfo={description:"",displayName:"plugins",props:{name:{defaultValue:null,description:"The name the node type has in this schema.",name:"name",required:!0,type:{name:"string"}},schema:{defaultValue:null,description:"A link back to the `Schema` the node type belongs to.",name:"schema",required:!0,type:{name:"any"}},spec:{defaultValue:null,description:"The spec that this type is based on",name:"spec",required:!0,type:{name:"NodeSpec"}},contentMatch:{defaultValue:null,description:"The starting match of the node type's content expression.",name:"contentMatch",required:!0,type:{name:"ContentMatch<any>"}},inlineContent:{defaultValue:null,description:"True if this node type has inline content.",name:"inlineContent",required:!0,type:{name:"boolean"}},isBlock:{defaultValue:null,description:"True if this is a block type",name:"isBlock",required:!0,type:{name:"boolean"}},isText:{defaultValue:null,description:"True if this is the text node type.",name:"isText",required:!0,type:{name:"boolean"}},isInline:{defaultValue:null,description:"True if this is an inline type.",name:"isInline",required:!0,type:{name:"boolean"}},isTextblock:{defaultValue:null,description:"True if this is a textblock type, a block that contains inline\ncontent.",name:"isTextblock",required:!0,type:{name:"boolean"}},isLeaf:{defaultValue:null,description:"True for node types that allow no content.",name:"isLeaf",required:!0,type:{name:"boolean"}},isAtom:{defaultValue:null,description:"True when this node is an atom, i.e. when it does not have\ndirectly editable content.",name:"isAtom",required:!0,type:{name:"boolean"}},hasRequiredAttrs:{defaultValue:null,description:"Tells you whether this node type has any required attributes.",name:"hasRequiredAttrs",required:!0,type:{name:"() => boolean"}},create:{defaultValue:null,description:"Create a `Node` of this type. The given attributes are\nchecked and defaulted (you can pass `null` to use the type's\ndefaults entirely, if no required attributes exist). `content`\nmay be a `Fragment`, a node, an array of nodes, or\n`null`. Similarly `marks` may be `null` to default to the empty\nset of marks.",name:"create",required:!0,type:{name:"(attrs?: { [key: string]: any; } | null | undefined, content?: ProsemirrorNode<any> | Fragment<any> | ProsemirrorNode<any>[] | undefined, marks?: Mark<...>[] | undefined) => ProsemirrorNode<...>"}},createChecked:{defaultValue:null,description:"Like [`create`](#model.NodeType.create), but check the given content\nagainst the node type's content restrictions, and throw an error\nif it doesn't match.",name:"createChecked",required:!0,type:{name:"(attrs?: { [key: string]: any; } | null | undefined, content?: ProsemirrorNode<any> | Fragment<any> | ProsemirrorNode<any>[] | undefined, marks?: Mark<...>[] | undefined) => ProsemirrorNode<...>"}},createAndFill:{defaultValue:null,description:"Like [`create`](#model.NodeType.create), but see if it is necessary to\nadd nodes to the start or end of the given fragment to make it\nfit the node. If no fitting wrapping can be found, return null.\nNote that, due to the fact that required nodes can always be\ncreated, this will always succeed if you pass null or\n`Fragment.empty` as content.",name:"createAndFill",required:!0,type:{name:"(attrs?: { [key: string]: any; } | null | undefined, content?: ProsemirrorNode<any> | Fragment<any> | ProsemirrorNode<any>[] | undefined, marks?: Mark<...>[] | undefined) => ProsemirrorNode<...> | ... 1 more ... | undefined"}},validContent:{defaultValue:null,description:"Returns true if the given fragment is valid content for this node\ntype with the given attributes.",name:"validContent",required:!0,type:{name:"(content: Fragment<any>) => boolean"}},allowsMarkType:{defaultValue:null,description:"Check whether the given mark type is allowed in this node.",name:"allowsMarkType",required:!0,type:{name:"(markType: MarkType<any>) => boolean"}},allowsMarks:{defaultValue:null,description:"Test whether the given set of marks are allowed in this node.",name:"allowsMarks",required:!0,type:{name:"(marks: Mark<any>[]) => boolean"}},allowedMarks:{defaultValue:null,description:"Removes the marks that are not allowed in this node from the given set.",name:"allowedMarks",required:!0,type:{name:"(marks: Mark<any>[]) => Mark<any>[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/extensions/nodes/list/plugins.tsx#plugins"]={docgenInfo:plugins.__docgenInfo,name:"plugins",path:"src/components/extensions/nodes/list/plugins.tsx#plugins"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__(1310);function List(){return Object(editor.f)(List.pack,"list"),null}List.pack=[list_bulleted,list_numbered,Object(objectSpread2.a)(Object(objectSpread2.a)({},list_item),{},{plugins:plugins,rule:{handle:list_handle,alt:["paragraph","reference","blockquote"]}})]},195:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Paragraph}));var editor=__webpack_require__(19),createForOfIteratorHelper=__webpack_require__(22),paragraph_handle=function paragraph(state,silent,startLine){var name=this.name,terminatorRules=state.engine.block.ruler.getRules(name),endLine=state.lineMax,oldParent=state.parent;state.parent=name;for(var nextLine=startLine+1;nextLine<endLine&&!state.isEmpty(nextLine);nextLine++)if(!(state.sCount[nextLine]-state.blkIndent>3||state.sCount[nextLine]<0)){var _step,terminate=!1,_iterator=Object(createForOfIteratorHelper.a)(terminatorRules);try{for(_iterator.s();!(_step=_iterator.n()).done;){if((0,_step.value)(state,!0,nextLine,endLine)){terminate=!0;break}}}catch(err){_iterator.e(err)}finally{_iterator.f()}if(terminate)break}var content=state.getLines(startLine,nextLine,state.blkIndent,!1);state.env.typing||(content=content.trim()),state.line=nextLine,state.push(name,1).map=[startLine,state.line];var inlineToken=state.push("",0);return inlineToken.content=content,inlineToken.map=[startLine,state.line],inlineToken.children=[],state.push(name,-1),state.parent=oldParent,!0},toArray=__webpack_require__(589),classCallCheck=__webpack_require__(32),createClass=__webpack_require__(58),assertThisInitialized=__webpack_require__(202),inherits=__webpack_require__(40),createSuper=__webpack_require__(41),index_es=__webpack_require__(1),dist_index_es=__webpack_require__(29),plugins_ParagraphPlugin=function(_ExtensionPlugin){Object(inherits.a)(ParagraphPlugin,_ExtensionPlugin);var _super=Object(createSuper.a)(ParagraphPlugin);function ParagraphPlugin(){var _this;Object(classCallCheck.a)(this,ParagraphPlugin);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_super.call.apply(_super,[this].concat(args))).initState=function(){return null},_this.applyState=function(tr,prev){return tr.getMeta(Object(assertThisInitialized.a)(_this))||(tr.selectionSet||tr.docChanged?null:prev)},_this.handleTextInput=function(view,from,to,text){if(view.composing)return!1;var state=view.state,$from=state.doc.resolve(from);if($from.parent.type.spec.code)return!1;var tr=state.tr,textBefore=_this.textBefore($from);return!!_this.transform(tr,textBefore+text,from-textBefore.length,to)&&(view.dispatch(tr.setMeta(Object(assertThisInitialized.a)(_this),{tr:tr,from:from,to:to,text:text})),!0)},_this}return Object(createClass.a)(ParagraphPlugin,[{key:"transform",value:function transform(tr,text,start,end){var tokens=this.engine.parse(text,{tr:tr,typing:!0});if(0===tokens.length)return!1;var $start=tr.doc.resolve(start),_this$parse=this.parse(this.schema,tokens,{type:$start.parent.type,content:[]}),type=_this$parse.type,_this$parse$content=Object(toArray.a)(_this$parse.content),head=_this$parse$content[0],tail=_this$parse$content.slice(1);return!!head&&(head.type===this.type?tr.delete(start,end).insertText(head.textContent):start===$start.start()?type!==head.type?tr.replaceRangeWith(start,end,head):tr.delete(start,end).step(new dist_index_es.a(tr.mapping.map($start.before()),tr.mapping.map($start.after()),tr.mapping.map($start.start()),tr.mapping.map($start.end()),new index_es.j(index_es.c.from(head),0,0),1,!0)):console.warn("TODO:",type,head.type),tail.length&&tr.insert(tr.mapping.map(end),tail),tr.scrollIntoView(),!0)}},{key:"parse",value:function parse(schema,tokens,context){var _step,stack=[context],_iterator=Object(createForOfIteratorHelper.a)(tokens);try{for(_iterator.s();!(_step=_iterator.n()).done;){var token=_step.value;switch(token.nesting){case 1:var type=schema.nodes[token.name];stack.push({type:type,content:[],attrs:token.attrs});break;case 0:if(token.content||token.name){var content=token.content?schema.text(token.content):null,_type=token.name?schema.nodes[token.name]:null,node=_type&&content?_type.createAndFill(token.attrs,content):(null==_type?void 0:_type.create(token.attrs))||content;node&&stack[stack.length-1].content.push(node)}break;case-1:var _ref=stack.pop(),_type2=_ref.type,_content=_ref.content,attrs=_ref.attrs,_node=_type2.createAndFill(attrs,_content);_node&&stack[stack.length-1].content.push(_node)}}}catch(err){_iterator.e(err)}finally{_iterator.f()}return context}}]),ParagraphPlugin}(editor.a);function plugins(type){return[new plugins_ParagraphPlugin(type)]}try{plugins.displayName="plugins",plugins.__docgenInfo={description:"",displayName:"plugins",props:{name:{defaultValue:null,description:"The name the node type has in this schema.",name:"name",required:!0,type:{name:"string"}},schema:{defaultValue:null,description:"A link back to the `Schema` the node type belongs to.",name:"schema",required:!0,type:{name:"any"}},spec:{defaultValue:null,description:"The spec that this type is based on",name:"spec",required:!0,type:{name:"NodeSpec"}},contentMatch:{defaultValue:null,description:"The starting match of the node type's content expression.",name:"contentMatch",required:!0,type:{name:"ContentMatch<any>"}},inlineContent:{defaultValue:null,description:"True if this node type has inline content.",name:"inlineContent",required:!0,type:{name:"boolean"}},isBlock:{defaultValue:null,description:"True if this is a block type",name:"isBlock",required:!0,type:{name:"boolean"}},isText:{defaultValue:null,description:"True if this is the text node type.",name:"isText",required:!0,type:{name:"boolean"}},isInline:{defaultValue:null,description:"True if this is an inline type.",name:"isInline",required:!0,type:{name:"boolean"}},isTextblock:{defaultValue:null,description:"True if this is a textblock type, a block that contains inline\ncontent.",name:"isTextblock",required:!0,type:{name:"boolean"}},isLeaf:{defaultValue:null,description:"True for node types that allow no content.",name:"isLeaf",required:!0,type:{name:"boolean"}},isAtom:{defaultValue:null,description:"True when this node is an atom, i.e. when it does not have\ndirectly editable content.",name:"isAtom",required:!0,type:{name:"boolean"}},hasRequiredAttrs:{defaultValue:null,description:"Tells you whether this node type has any required attributes.",name:"hasRequiredAttrs",required:!0,type:{name:"() => boolean"}},create:{defaultValue:null,description:"Create a `Node` of this type. The given attributes are\nchecked and defaulted (you can pass `null` to use the type's\ndefaults entirely, if no required attributes exist). `content`\nmay be a `Fragment`, a node, an array of nodes, or\n`null`. Similarly `marks` may be `null` to default to the empty\nset of marks.",name:"create",required:!0,type:{name:"(attrs?: { [key: string]: any; } | null | undefined, content?: ProsemirrorNode<any> | Fragment<any> | ProsemirrorNode<any>[] | undefined, marks?: Mark<...>[] | undefined) => ProsemirrorNode<...>"}},createChecked:{defaultValue:null,description:"Like [`create`](#model.NodeType.create), but check the given content\nagainst the node type's content restrictions, and throw an error\nif it doesn't match.",name:"createChecked",required:!0,type:{name:"(attrs?: { [key: string]: any; } | null | undefined, content?: ProsemirrorNode<any> | Fragment<any> | ProsemirrorNode<any>[] | undefined, marks?: Mark<...>[] | undefined) => ProsemirrorNode<...>"}},createAndFill:{defaultValue:null,description:"Like [`create`](#model.NodeType.create), but see if it is necessary to\nadd nodes to the start or end of the given fragment to make it\nfit the node. If no fitting wrapping can be found, return null.\nNote that, due to the fact that required nodes can always be\ncreated, this will always succeed if you pass null or\n`Fragment.empty` as content.",name:"createAndFill",required:!0,type:{name:"(attrs?: { [key: string]: any; } | null | undefined, content?: ProsemirrorNode<any> | Fragment<any> | ProsemirrorNode<any>[] | undefined, marks?: Mark<...>[] | undefined) => ProsemirrorNode<...> | ... 1 more ... | undefined"}},validContent:{defaultValue:null,description:"Returns true if the given fragment is valid content for this node\ntype with the given attributes.",name:"validContent",required:!0,type:{name:"(content: Fragment<any>) => boolean"}},allowsMarkType:{defaultValue:null,description:"Check whether the given mark type is allowed in this node.",name:"allowsMarkType",required:!0,type:{name:"(markType: MarkType<any>) => boolean"}},allowsMarks:{defaultValue:null,description:"Test whether the given set of marks are allowed in this node.",name:"allowsMarks",required:!0,type:{name:"(marks: Mark<any>[]) => boolean"}},allowedMarks:{defaultValue:null,description:"Removes the marks that are not allowed in this node from the given set.",name:"allowedMarks",required:!0,type:{name:"(marks: Mark<any>[]) => Mark<any>[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/extensions/nodes/paragraph/plugins.tsx#plugins"]={docgenInfo:plugins.__docgenInfo,name:"plugins",path:"src/components/extensions/nodes/paragraph/plugins.tsx#plugins"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__(1305);var extension={plugins:plugins,rule:{handle:paragraph_handle},node:{content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM:function toDOM(){return["p",0]}}};function Paragraph(){return Object(editor.f)(extension,"paragraph"),null}},196:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return CodeBlock}));var editor=__webpack_require__(19),codeblock_handle=function codeblock(state,silent,startLine,endLine){if(state.sCount[startLine]-state.blkIndent<4)return!1;for(var nextLine=startLine+1,last=nextLine;nextLine<endLine;)if(state.isEmpty(nextLine))nextLine++;else{if(!(state.sCount[nextLine]-state.blkIndent>=4))break;last=++nextLine}state.line=last;var token=state.push(this.name,0);return token.content=state.getLines(startLine,last,4+state.blkIndent,!0),token.map=[startLine,state.line],!0},index_es=__webpack_require__(398),plugins_plugins=function plugins(type){return[Object(index_es.a)({rules:[Object(index_es.b)(/^ {4}$/,type)]})]},codeblock_plugins=plugins_plugins;try{plugins_plugins.displayName="plugins",plugins_plugins.__docgenInfo={description:"",displayName:"plugins",props:{name:{defaultValue:null,description:"The name the node type has in this schema.",name:"name",required:!0,type:{name:"string"}},schema:{defaultValue:null,description:"A link back to the `Schema` the node type belongs to.",name:"schema",required:!0,type:{name:"any"}},spec:{defaultValue:null,description:"The spec that this type is based on",name:"spec",required:!0,type:{name:"NodeSpec"}},contentMatch:{defaultValue:null,description:"The starting match of the node type's content expression.",name:"contentMatch",required:!0,type:{name:"ContentMatch<any>"}},inlineContent:{defaultValue:null,description:"True if this node type has inline content.",name:"inlineContent",required:!0,type:{name:"boolean"}},isBlock:{defaultValue:null,description:"True if this is a block type",name:"isBlock",required:!0,type:{name:"boolean"}},isText:{defaultValue:null,description:"True if this is the text node type.",name:"isText",required:!0,type:{name:"boolean"}},isInline:{defaultValue:null,description:"True if this is an inline type.",name:"isInline",required:!0,type:{name:"boolean"}},isTextblock:{defaultValue:null,description:"True if this is a textblock type, a block that contains inline\ncontent.",name:"isTextblock",required:!0,type:{name:"boolean"}},isLeaf:{defaultValue:null,description:"True for node types that allow no content.",name:"isLeaf",required:!0,type:{name:"boolean"}},isAtom:{defaultValue:null,description:"True when this node is an atom, i.e. when it does not have\ndirectly editable content.",name:"isAtom",required:!0,type:{name:"boolean"}},hasRequiredAttrs:{defaultValue:null,description:"Tells you whether this node type has any required attributes.",name:"hasRequiredAttrs",required:!0,type:{name:"() => boolean"}},create:{defaultValue:null,description:"Create a `Node` of this type. The given attributes are\nchecked and defaulted (you can pass `null` to use the type's\ndefaults entirely, if no required attributes exist). `content`\nmay be a `Fragment`, a node, an array of nodes, or\n`null`. Similarly `marks` may be `null` to default to the empty\nset of marks.",name:"create",required:!0,type:{name:"(attrs?: { [key: string]: any; } | null | undefined, content?: ProsemirrorNode<any> | Fragment<any> | ProsemirrorNode<any>[] | undefined, marks?: Mark<...>[] | undefined) => ProsemirrorNode<...>"}},createChecked:{defaultValue:null,description:"Like [`create`](#model.NodeType.create), but check the given content\nagainst the node type's content restrictions, and throw an error\nif it doesn't match.",name:"createChecked",required:!0,type:{name:"(attrs?: { [key: string]: any; } | null | undefined, content?: ProsemirrorNode<any> | Fragment<any> | ProsemirrorNode<any>[] | undefined, marks?: Mark<...>[] | undefined) => ProsemirrorNode<...>"}},createAndFill:{defaultValue:null,description:"Like [`create`](#model.NodeType.create), but see if it is necessary to\nadd nodes to the start or end of the given fragment to make it\nfit the node. If no fitting wrapping can be found, return null.\nNote that, due to the fact that required nodes can always be\ncreated, this will always succeed if you pass null or\n`Fragment.empty` as content.",name:"createAndFill",required:!0,type:{name:"(attrs?: { [key: string]: any; } | null | undefined, content?: ProsemirrorNode<any> | Fragment<any> | ProsemirrorNode<any>[] | undefined, marks?: Mark<...>[] | undefined) => ProsemirrorNode<...> | ... 1 more ... | undefined"}},validContent:{defaultValue:null,description:"Returns true if the given fragment is valid content for this node\ntype with the given attributes.",name:"validContent",required:!0,type:{name:"(content: Fragment<any>) => boolean"}},allowsMarkType:{defaultValue:null,description:"Check whether the given mark type is allowed in this node.",name:"allowsMarkType",required:!0,type:{name:"(markType: MarkType<any>) => boolean"}},allowsMarks:{defaultValue:null,description:"Test whether the given set of marks are allowed in this node.",name:"allowsMarks",required:!0,type:{name:"(marks: Mark<any>[]) => boolean"}},allowedMarks:{defaultValue:null,description:"Removes the marks that are not allowed in this node from the given set.",name:"allowedMarks",required:!0,type:{name:"(marks: Mark<any>[]) => Mark<any>[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/extensions/nodes/codeblock/plugins.tsx#plugins"]={docgenInfo:plugins_plugins.__docgenInfo,name:"plugins",path:"src/components/extensions/nodes/codeblock/plugins.tsx#plugins"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__(1309);var extension={plugins:codeblock_plugins,rule:{handle:codeblock_handle},node:{attrs:{language:{default:"javascript"}},content:"text*",marks:"",group:"block",code:!0,defining:!0,draggable:!1,parseDOM:[{tag:"pre",preserveWhitespace:"full",contentElement:"code"}],toDOM:function toDOM(node){return["pre",{"data-language":node.attrs.language,class:node.type.name},["code",0]]}}};function CodeBlock(){return Object(editor.f)(extension,"codeblock"),null}},197:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return HorizontalRule}));var editor=__webpack_require__(19),horizontalrule_handle=function handle(state,silent,startLine){if(state.sCount[startLine]-state.blkIndent>=4)return!1;var pos=state.bMarks[startLine]+state.tShift[startLine],marker=state.src.charCodeAt(pos++);if(42!==marker&&45!==marker&&95!==marker)return!1;for(var cnt=1,max=state.eMarks[startLine];pos<max;){var ch=state.src.charCodeAt(pos++);if(ch!==marker&&!Object(editor.e)(ch))return!1;ch===marker&&cnt++}if(cnt<3)return!1;if(state.env.typing&&!Object(editor.e)(state.src.charCodeAt(pos-1)))return!1;if(silent)return!0;state.line=startLine+1;var token=state.push(this.name,0);return token.map=[startLine,state.line],token.markup=Array(cnt+1).join(String.fromCharCode(marker)),!0},extension=(__webpack_require__(1307),{rule:{handle:horizontalrule_handle,alt:["paragraph","reference","blockquote","list"]},node:{group:"block",parseDOM:[{tag:"hr"}],toDOM:function toDOM(){return["hr"]}}});function HorizontalRule(){return Object(editor.f)(extension,"horizontalrule"),null}},198:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Heading}));var lodash_range=__webpack_require__(590),lodash_range_default=__webpack_require__.n(lodash_range),editor=__webpack_require__(19),heading_handle=function heading(state,silent,startLine){var pos=state.bMarks[startLine]+state.tShift[startLine],max=state.eMarks[startLine];if(state.sCount[startLine]-state.blkIndent>=4)return!1;var ch=state.src.charCodeAt(pos);if(35!==ch||pos>=max)return!1;var level=1;for(ch=state.src.charCodeAt(++pos);35===ch&&pos<max&&level<=6;)level++,ch=state.src.charCodeAt(++pos);if(level>6||pos<max&&!Object(editor.e)(ch))return!1;if(state.env.typing&&pos===max)return!1;if(silent)return!0;max=state.skipSpacesBack(max,pos);var tmp=state.skipCharsBack(max,35,pos);tmp>pos&&Object(editor.e)(state.src.charCodeAt(tmp-1))&&(max=tmp),state.line=startLine+1;var openToken=state.push(this.name,1);openToken.markup="#".repeat(level),openToken.map=[startLine,state.line],openToken.attrs={level:level};var inlineToken=state.push("",0);return inlineToken.content=state.src.slice(pos,max).trim(),inlineToken.map=[startLine,state.line],inlineToken.children=[],state.push(this.name,-1).markup=openToken.markup,!0},extension=(__webpack_require__(1306),{rule:{handle:heading_handle,alt:["paragraph","reference","blockquote"]},node:{attrs:{level:{default:1}},content:"inline*",group:"block",defining:!0,draggable:!1,parseDOM:lodash_range_default()(1,7).map((function(level){return{tag:"h".concat(level),attrs:{level:level}}})),toDOM:function toDOM(node){return["h".concat(node.attrs.level),0]}}});function Heading(){return Object(editor.f)(extension,"heading"),null}},199:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Blockquote}));var editor=__webpack_require__(19),createForOfIteratorHelper=__webpack_require__(22),blockquote_handle=function blockquote(state,silent,startLine,endLine){if(state.sCount[startLine]-state.blkIndent>=4)return!1;var pos=state.bMarks[startLine]+state.tShift[startLine];if(62!==state.src.charCodeAt(pos++))return!1;var max=state.eMarks[startLine];if(state.env.typing)for(var i=pos;i<=max;++i){if(i===max)return!1;var ch=state.src.charCodeAt(i);if(Object(editor.e)(ch)&&62===state.src.charCodeAt(i-1))break}if(silent)return!0;var offset=state.sCount[startLine]+1,initial=offset,adjustTab=!1,spaceAfterMarker=!1;32===state.src.charCodeAt(pos)?(pos++,initial++,offset++,adjustTab=!1,spaceAfterMarker=!0):9===state.src.charCodeAt(pos)&&(spaceAfterMarker=!0,(state.bsCount[startLine]+offset)%4==3?(pos++,initial++,offset++,adjustTab=!1):adjustTab=!0);var oldLineMax=state.lineMax,oldBMarks=[state.bMarks[startLine]];for(state.bMarks[startLine]=pos;pos<max;){var _ch=state.src.charCodeAt(pos);if(!Object(editor.e)(_ch))break;9===_ch?offset+=Object(editor.d)(offset+state.bsCount[startLine]+(adjustTab?1:0)):offset++,pos++}var oldBSCount=[state.bsCount[startLine]];state.bsCount[startLine]=state.sCount[startLine]+1+(spaceAfterMarker?1:0);var oldSCount=[state.sCount[startLine]];state.sCount[startLine]=offset-initial;var oldTShift=[state.tShift[startLine]];state.tShift[startLine]=pos-state.bMarks[startLine];var nextLine,terminatorRules=state.engine.block.ruler.getRules(this.name),oldParent=state.parent;state.parent=this.name;var lastLineEmpty=pos>=max;for(nextLine=startLine+1;nextLine<endLine;nextLine++){var isOutdented=state.sCount[nextLine]<state.blkIndent;if((pos=state.bMarks[nextLine]+state.tShift[nextLine])>=(max=state.eMarks[nextLine]))break;if(62!==state.src.charCodeAt(pos++)||isOutdented){if(lastLineEmpty)break;var _step,terminate=!1,_iterator=Object(createForOfIteratorHelper.a)(terminatorRules);try{for(_iterator.s();!(_step=_iterator.n()).done;){if((0,_step.value)(state,!0,nextLine,endLine)){terminate=!0;break}}}catch(err){_iterator.e(err)}finally{_iterator.f()}if(terminate){state.lineMax=nextLine,0!==state.blkIndent&&(oldBMarks.push(state.bMarks[nextLine]),oldBSCount.push(state.bsCount[nextLine]),oldTShift.push(state.tShift[nextLine]),oldSCount.push(state.sCount[nextLine]),state.sCount[nextLine]-=state.blkIndent);break}oldBMarks.push(state.bMarks[nextLine]),oldBSCount.push(state.bsCount[nextLine]),oldTShift.push(state.tShift[nextLine]),oldSCount.push(state.sCount[nextLine]),state.sCount[nextLine]=-1}else{for(initial=offset=state.sCount[nextLine]+1,32===state.src.charCodeAt(pos)?(pos++,initial++,offset++,adjustTab=!1,spaceAfterMarker=!0):9===state.src.charCodeAt(pos)?(spaceAfterMarker=!0,(state.bsCount[nextLine]+offset)%4==3?(pos++,initial++,offset++,adjustTab=!1):adjustTab=!0):spaceAfterMarker=!1,oldBMarks.push(state.bMarks[nextLine]),state.bMarks[nextLine]=pos;pos<max;){var _ch2=state.src.charCodeAt(pos);if(!Object(editor.e)(_ch2))break;9===_ch2?offset+=4-(offset+state.bsCount[nextLine]+(adjustTab?1:0))%4:offset++,pos++}lastLineEmpty=pos>=max,oldBSCount.push(state.bsCount[nextLine]),state.bsCount[nextLine]=state.sCount[nextLine]+1+(spaceAfterMarker?1:0),oldSCount.push(state.sCount[nextLine]),state.sCount[nextLine]=offset-initial,oldTShift.push(state.tShift[nextLine]),state.tShift[nextLine]=pos-state.bMarks[nextLine]}}var oldIndent=state.blkIndent;state.blkIndent=0;var openToken=state.push(this.name,1);openToken.markup=">";var lines=openToken.map=[startLine,0];state.engine.block.tokenize(state,startLine,nextLine),state.push(this.name,-1).markup=">",state.lineMax=oldLineMax,state.parent=oldParent,lines[1]=state.line;for(var _i=0;_i<oldTShift.length;_i++)state.bMarks[_i+startLine]=oldBMarks[_i],state.tShift[_i+startLine]=oldTShift[_i],state.sCount[_i+startLine]=oldSCount[_i],state.bsCount[_i+startLine]=oldBSCount[_i];return state.blkIndent=oldIndent,!0},extension=(__webpack_require__(1308),{rule:{handle:blockquote_handle,alt:["paragraph","reference",".","list"]},node:{content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote"}],toDOM:function toDOM(){return["blockquote",0]}}});function Blockquote(){return Object(editor.f)(extension,"blockquote"),null}},36:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"template",(function(){return index_stories_template})),__webpack_require__.d(__webpack_exports__,"minimal",(function(){return minimal})),__webpack_require__.d(__webpack_exports__,"withThemedEditor",(function(){return index_stories_withThemedEditor})),__webpack_require__.d(__webpack_exports__,"meta",(function(){return index_stories_meta}));var defineProperty=__webpack_require__(158),objectSpread2=__webpack_require__(15),jsx_runtime=__webpack_require__(42),objectWithoutProperties=(__webpack_require__(0),__webpack_require__(141)),themes=(__webpack_require__(1304),{light:"light",dark:"dark"});function Theme(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref$theme=_ref.theme,theme=void 0===_ref$theme?"light":_ref$theme,_ref$className=_ref.className,className=void 0===_ref$className?"":_ref$className,children=_ref.children,configs=Object(objectWithoutProperties.a)(_ref,["theme","className","children"]);return Object(jsx_runtime.jsx)("div",Object(objectSpread2.a)(Object(objectSpread2.a)({},configs),{},{className:"".concat(theme).concat(className?" "+className:""),children:children}))}try{theme.displayName="theme",theme.__docgenInfo={description:"",displayName:"theme",props:{theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:'"light" | "dark"'}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/theme/index.tsx#theme"]={docgenInfo:theme.__docgenInfo,name:"theme",path:"src/components/theme/index.tsx#theme"})}catch(__react_docgen_typescript_loader_error){}var editor=__webpack_require__(19),base=__webpack_require__(137),paragraph=__webpack_require__(195),index_stories_template=(__webpack_require__(198),__webpack_require__(197),__webpack_require__(199),__webpack_require__(196),__webpack_require__(194),__webpack_require__(193),__webpack_require__(192),function template(Component){return function(args){return Object(jsx_runtime.jsx)(Component,Object(objectSpread2.a)({},args))}}),minimal=[base.a,paragraph.a],index_stories_withThemedEditor=function withThemedEditor(Extension){var addon=arguments.length>1&&void 0!==arguments[1]?arguments[1]:minimal;return function(props){return Object(jsx_runtime.jsx)(Theme,{children:Object(jsx_runtime.jsxs)(editor.c,{children:[Object(jsx_runtime.jsx)(Extension,Object(objectSpread2.a)({},props)),addon.map((function(Extension){return Object(jsx_runtime.jsx)(Extension,{},Extension.name)}))]})})}},index_stories_meta=function meta(kind,extension){var addon=arguments.length>2&&void 0!==arguments[2]?arguments[2]:minimal,name=extension.name;return{title:"extensions/".concat(kind,"/").concat(name),component:extension,decorators:[function(Story,_ref){var args=_ref.args,NamedStory=Object(defineProperty.a)({},name,(function(){return Object(jsx_runtime.jsx)(Story,{})}))[name];return Object(jsx_runtime.jsx)(Theme,{theme:args.theme,style:{margin:"0 auto",padding:"0 20px"},children:Object(jsx_runtime.jsxs)(editor.c,{text:args.text,children:[Object(jsx_runtime.jsx)(NamedStory,{}),addon.map((function(Extension){return Object(jsx_runtime.jsx)(Extension,{},Extension.name)}))]})})}],args:{theme:"light"},argTypes:{theme:{control:{type:"inline-radio",options:Object.keys(themes)}}},parameters:{backgrounds:{default:"light"}}}};index_stories_template.parameters=Object(objectSpread2.a)({storySource:{source:"function template<P = {}>(Component: React.FC<P>): Story<P & MetaProps> {\n  return (args) => <Component {...args} />;\n}"}},index_stories_template.parameters),index_stories_withThemedEditor.parameters=Object(objectSpread2.a)({storySource:{source:"function withThemedEditor<P>(Extension: React.FC<P>, addon = minimal) {\n  return (props: P) => (\n    <Theme>\n      <Editor>\n        <Extension {...props} />\n        {addon.map((Extension) => (\n          <Extension key={Extension.name} />\n        ))}\n      </Editor>\n    </Theme>\n  );\n}"}},index_stories_withThemedEditor.parameters),index_stories_meta.parameters=Object(objectSpread2.a)({storySource:{source:'function meta<P = {}>(\n  kind: "Nodes" | "Marks" | "Plugins",\n  extension: React.FC<P>,\n  addon = minimal\n): Meta<MetaProps> {\n  const name = extension.name;\n\n  return {\n    title: `extensions/${kind}/${name}`,\n    component: extension,\n    decorators: [\n      (Story: Story, { args }: StoryContext) => {\n        const NamedStory = {\n          [name]: () => <Story />,\n        }[name];\n\n        return (\n          <Theme\n            theme={args.theme}\n            style={{\n              margin: "0 auto",\n              padding: "0 20px",\n            }}\n          >\n            <Editor text={args.text}>\n              <NamedStory />\n              {addon.map((Extension) => (\n                <Extension key={Extension.name} />\n              ))}\n            </Editor>\n          </Theme>\n        );\n      },\n    ],\n    args: {\n      theme: "light",\n    },\n    argTypes: {\n      theme: {\n        control: {\n          type: "inline-radio",\n          options: Object.keys(themes),\n        },\n      },\n    },\n    parameters: {\n      backgrounds: { default: "light" },\n    },\n  };\n}'}},index_stories_meta.parameters);try{index_stories_template.displayName="template",index_stories_template.__docgenInfo={description:"",displayName:"template",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/index.stories.tsx#template"]={docgenInfo:index_stories_template.__docgenInfo,name:"template",path:"src/components/index.stories.tsx#template"})}catch(__react_docgen_typescript_loader_error){}},591:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(setImmediate){__webpack_require__.d(__webpack_exports__,"a",(function(){return Runtime}));var _home_whom_chickut_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_construct__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(265),_home_whom_chickut_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(40),_home_whom_chickut_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(41),_home_whom_chickut_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_wrapNativeSuper__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(142),_home_whom_chickut_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(85),_home_whom_chickut_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(140),_home_whom_chickut_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(15),_home_whom_chickut_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(22),_home_whom_chickut_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(32),_home_whom_chickut_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(58),meriyah__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(592),frame="function"==typeof requestAnimationFrame?requestAnimationFrame:setImmediate,Snippet=function(){function Snippet(code){var _this=this;Object(_home_whom_chickut_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_8__.a)(this,Snippet),this.code=code,this.range=void 0,this.lastExpression=void 0,this.nesting=0,this.refs=[],this.vars=[],this.evaluators={Identifier:function(_Identifier){function Identifier(_x){return _Identifier.apply(this,arguments)}return Identifier.toString=function(){return _Identifier.toString()},Identifier}((function(node){var _ref=node,name=_ref.name,range=_ref.range,last=_this.vars[_this.vars.length-1];if(last&&!last.name)last.name=name;else{for(var j,i=_this.vars.length-1;i>=0&&_this.vars[i].nesting===_this.nesting;--i)if(_this.vars[i].name===name){j=i;break}if(void 0===j)for(;i>=0&&_this.vars[i].nesting<_this.nesting;--i)if(_this.vars[i].name===name){j=i;break}_this.refs.push({name:name,range:range,nesting:void 0!==j?_this.vars[j].nesting:void 0})}})),BinaryExpression:function(_BinaryExpression){function BinaryExpression(_x2){return _BinaryExpression.apply(this,arguments)}return BinaryExpression.toString=function(){return _BinaryExpression.toString()},BinaryExpression}((function(node){var _this$evaluators$left,_this$evaluators,_this$evaluators$righ,_this$evaluators2,_ref2=node,left=_ref2.left,right=_ref2.right;null===(_this$evaluators$left=(_this$evaluators=_this.evaluators)[left.type])||void 0===_this$evaluators$left||_this$evaluators$left.call(_this$evaluators,left),null===(_this$evaluators$righ=(_this$evaluators2=_this.evaluators)[right.type])||void 0===_this$evaluators$righ||_this$evaluators$righ.call(_this$evaluators2,right)})),MemberExpression:function(_MemberExpression){function MemberExpression(_x3){return _MemberExpression.apply(this,arguments)}return MemberExpression.toString=function(){return _MemberExpression.toString()},MemberExpression}((function(node){var _this$evaluators$obje,_this$evaluators3,object=node.object;null===(_this$evaluators$obje=(_this$evaluators3=_this.evaluators)[object.type])||void 0===_this$evaluators$obje||_this$evaluators$obje.call(_this$evaluators3,object)})),CallExpression:function(_CallExpression){function CallExpression(_x4){return _CallExpression.apply(this,arguments)}return CallExpression.toString=function(){return _CallExpression.toString()},CallExpression}((function(node){var _this$evaluators4,_this$evaluators5,_ref4=node,callee=_ref4.callee,params=_ref4.arguments;null===(_this$evaluators4=(_this$evaluators5=_this.evaluators)[callee.type])||void 0===_this$evaluators4||_this$evaluators4.call(_this$evaluators5,callee);var _step,_iterator=Object(_home_whom_chickut_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_7__.a)(params);try{for(_iterator.s();!(_step=_iterator.n()).done;){var _this$evaluators$para,_this$evaluators6,param=_step.value;null===(_this$evaluators$para=(_this$evaluators6=_this.evaluators)[param.type])||void 0===_this$evaluators$para||_this$evaluators$para.call(_this$evaluators6,param)}}catch(err){_iterator.e(err)}finally{_iterator.f()}})),UpdateExpression:function(_UpdateExpression){function UpdateExpression(_x5){return _UpdateExpression.apply(this,arguments)}return UpdateExpression.toString=function(){return _UpdateExpression.toString()},UpdateExpression}((function(node){var _this$evaluators$para2,_this$evaluators7,param=node.argument;null===(_this$evaluators$para2=(_this$evaluators7=_this.evaluators)[param.type])||void 0===_this$evaluators$para2||_this$evaluators$para2.call(_this$evaluators7,param)})),AssignmentExpression:function(_AssignmentExpression){function AssignmentExpression(_x6){return _AssignmentExpression.apply(this,arguments)}return AssignmentExpression.toString=function(){return _AssignmentExpression.toString()},AssignmentExpression}((function(node){var _this$evaluators$left2,_this$evaluators8,_this$evaluators$righ2,_this$evaluators9,_ref6=node,left=_ref6.left,right=_ref6.right;null===(_this$evaluators$left2=(_this$evaluators8=_this.evaluators)[left.type])||void 0===_this$evaluators$left2||_this$evaluators$left2.call(_this$evaluators8,left),null===(_this$evaluators$righ2=(_this$evaluators9=_this.evaluators)[right.type])||void 0===_this$evaluators$righ2||_this$evaluators$righ2.call(_this$evaluators9,right)})),ArrowFunctionExpression:function(_ArrowFunctionExpression){function ArrowFunctionExpression(_x7){return _ArrowFunctionExpression.apply(this,arguments)}return ArrowFunctionExpression.toString=function(){return _ArrowFunctionExpression.toString()},ArrowFunctionExpression}((function(node){var _this$evaluators$body,_this$evaluators10,_ref7=node,params=_ref7.params,body=_ref7.body;_this.nesting++;var _step2,_iterator2=Object(_home_whom_chickut_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_7__.a)(params);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _this$evaluators$para3,_this$evaluators11,param=_step2.value;_this.vars.push({kind:"let",nesting:_this.nesting,name:""}),null===(_this$evaluators$para3=(_this$evaluators11=_this.evaluators)[param.type])||void 0===_this$evaluators$para3||_this$evaluators$para3.call(_this$evaluators11,param)}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}null===(_this$evaluators$body=(_this$evaluators10=_this.evaluators)[body.type])||void 0===_this$evaluators$body||_this$evaluators$body.call(_this$evaluators10,body),_this.nesting--})),VariableDeclarator:function(_VariableDeclarator){function VariableDeclarator(_x8){return _VariableDeclarator.apply(this,arguments)}return VariableDeclarator.toString=function(){return _VariableDeclarator.toString()},VariableDeclarator}((function(node){var _this$evaluators$id$t,_this$evaluators12,_this$evaluators$init,_this$evaluators13,_ref8=node,id=_ref8.id,init=_ref8.init;null===(_this$evaluators$id$t=(_this$evaluators12=_this.evaluators)[id.type])||void 0===_this$evaluators$id$t||_this$evaluators$id$t.call(_this$evaluators12,id),init&&(null===(_this$evaluators$init=(_this$evaluators13=_this.evaluators)[init.type])||void 0===_this$evaluators$init||_this$evaluators$init.call(_this$evaluators13,init))})),VariableDeclaration:function(_VariableDeclaration){function VariableDeclaration(_x9){return _VariableDeclaration.apply(this,arguments)}return VariableDeclaration.toString=function(){return _VariableDeclaration.toString()},VariableDeclaration}((function(node){var _step3,_ref9=node,kind=_ref9.kind,declarations=_ref9.declarations,range=_ref9.range,_iterator3=Object(_home_whom_chickut_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_7__.a)(declarations);try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var _this$evaluators$item,_this$evaluators14,item=_step3.value;_this.vars.push({name:"",kind:kind,nesting:_this.nesting,range:range}),null===(_this$evaluators$item=(_this$evaluators14=_this.evaluators)[item.type])||void 0===_this$evaluators$item||_this$evaluators$item.call(_this$evaluators14,item)}}catch(err){_iterator3.e(err)}finally{_iterator3.f()}})),ExpressionStatement:function(_ExpressionStatement){function ExpressionStatement(_x10){return _ExpressionStatement.apply(this,arguments)}return ExpressionStatement.toString=function(){return _ExpressionStatement.toString()},ExpressionStatement}((function(node){var _this$evaluators$expr,_this$evaluators15,_ref10=node,expression=_ref10.expression,range=_ref10.range;null===(_this$evaluators$expr=(_this$evaluators15=_this.evaluators)[expression.type])||void 0===_this$evaluators$expr||_this$evaluators$expr.call(_this$evaluators15,expression),range&&_this.range&&range[1]===_this.range[1]&&(_this.lastExpression=range)})),BlockStatement:function(_BlockStatement){function BlockStatement(_x11){return _BlockStatement.apply(this,arguments)}return BlockStatement.toString=function(){return _BlockStatement.toString()},BlockStatement}((function(node){var block=node;_this.nesting+=1;var _step4,_iterator4=Object(_home_whom_chickut_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_7__.a)(block.body);try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var _this$evaluators$item2,_this$evaluators16,item=_step4.value;null===(_this$evaluators$item2=(_this$evaluators16=_this.evaluators)[item.type])||void 0===_this$evaluators$item2||_this$evaluators$item2.call(_this$evaluators16,item)}}catch(err){_iterator4.e(err)}finally{_iterator4.f()}_this.nesting-=1})),ArrayPattern:function(_ArrayPattern){function ArrayPattern(_x12){return _ArrayPattern.apply(this,arguments)}return ArrayPattern.toString=function(){return _ArrayPattern.toString()},ArrayPattern}((function(node){var elements=node.elements,last=_this.vars[_this.vars.length-1],declaring=last&&!last.name;declaring&&!elements.length&&_this.vars.pop();var _step5,_iterator5=Object(_home_whom_chickut_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_7__.a)(elements);try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var _this$evaluators$elem,_this$evaluators17,element=_step5.value;declaring&&last.name&&_this.vars.push(Object(_home_whom_chickut_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_6__.a)(Object(_home_whom_chickut_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_6__.a)({},last),{},{name:""})),null===(_this$evaluators$elem=(_this$evaluators17=_this.evaluators)[element.type])||void 0===_this$evaluators$elem||_this$evaluators$elem.call(_this$evaluators17,element)}}catch(err){_iterator5.e(err)}finally{_iterator5.f()}}))};var program=Object(meriyah__WEBPACK_IMPORTED_MODULE_10__.parseModule)(code,{lexical:!0,ranges:!0});this.range=program.range,program.body.forEach((function(node){var _this$evaluators$node,_this$evaluators18;null===(_this$evaluators$node=(_this$evaluators18=_this.evaluators)[node.type])||void 0===_this$evaluators$node||_this$evaluators$node.call(_this$evaluators18,node)}))}return Object(_home_whom_chickut_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_9__.a)(Snippet,[{key:"transformItem",value:function transformItem(pieces,items,itemIndex,codeIndex){var codeUntil=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1/0;if(codeIndex>codeUntil)throw new Error("Invalid code index: ".concat(codeIndex," > ").concat(codeUntil));var item=items[itemIndex];if(!item.range)throw new Error("Should enable index-based range feature");var _item$range=Object(_home_whom_chickut_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_5__.a)(item.range,2),itemStart=_item$range[0],itemEnd=_item$range[1];if(codeIndex>=itemEnd)return codeIndex;if(codeUntil<=itemStart)return pieces.push(this.code.slice(codeIndex,codeUntil)),codeUntil;if((codeIndex=this.transformReturn(pieces,codeIndex,itemStart))<itemStart&&(pieces.push(this.code.slice(codeIndex,itemStart)),codeIndex=itemStart),codeUntil<itemEnd)return codeIndex;if(item.kind||0!==item.nesting){for(var i=itemIndex+1;i<items.length&&codeIndex<itemEnd;++i)codeIndex=this.transformItem(pieces,items,i,codeIndex,itemEnd);pieces.push(this.code.slice(codeIndex,itemEnd)),item.kind&&0===item.nesting&&pieces.push(";__env__.".concat(item.name," = ").concat(item.name,";"))}else pieces.push("(__env__.".concat(this.code.slice(itemStart,itemEnd),")"));return codeIndex<itemEnd&&(codeIndex=itemEnd),codeIndex}},{key:"transformReturn",value:function transformReturn(pieces,last){var _this$lastExpression,itemStart=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,start=null===(_this$lastExpression=this.lastExpression)||void 0===_this$lastExpression?void 0:_this$lastExpression[0];return void 0!==start&&last<=start&&start<=itemStart&&(pieces.push(this.code.slice(last,start),";return "),last=start),last}},{key:"transform",value:function transform(){var items=[].concat(Object(_home_whom_chickut_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_4__.a)(this.vars),Object(_home_whom_chickut_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_4__.a)(this.refs));items.sort((function(a,b){if(!a.range||!b.range)throw new Error("Should enable index-based range feature");return a.range[0]-b.range[0]}));for(var pieces=[],last=0,i=0;i<items.length;++i)last=this.transformItem(pieces,items,i,last);return last=this.transformReturn(pieces,last),pieces.push(this.code.slice(last)),pieces.join("")}}]),Snippet}(),CycleError=function(_Error){Object(_home_whom_chickut_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_1__.a)(CycleError,_Error);var _super=Object(_home_whom_chickut_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_2__.a)(CycleError);function CycleError(){return Object(_home_whom_chickut_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_8__.a)(this,CycleError),_super.apply(this,arguments)}return CycleError}(Object(_home_whom_chickut_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_wrapNativeSuper__WEBPACK_IMPORTED_MODULE_3__.a)(Error)),AmbiguousError=function(_Error2){Object(_home_whom_chickut_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_1__.a)(AmbiguousError,_Error2);var _super2=Object(_home_whom_chickut_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_2__.a)(AmbiguousError);function AmbiguousError(){return Object(_home_whom_chickut_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_8__.a)(this,AmbiguousError),_super2.apply(this,arguments)}return AmbiguousError}(Object(_home_whom_chickut_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_wrapNativeSuper__WEBPACK_IMPORTED_MODULE_3__.a)(Error));function dfs(source,name,visited,input,output){var _input$r$name,status=visited[name];if(1===status)throw new CycleError(name);if(!status){visited[name]=1;var _step6,from=input[name],_iterator6=Object(_home_whom_chickut_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_7__.a)(from.map((function(i){return source[i]})));try{for(_iterator6.s();!(_step6=_iterator6.n()).done;){var _step7,refs=_step6.value.refs,_iterator7=Object(_home_whom_chickut_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_7__.a)(refs);try{for(_iterator7.s();!(_step7=_iterator7.n()).done;){var r=_step7.value;if(void 0===r.nesting)switch((null===(_input$r$name=input[r.name])||void 0===_input$r$name?void 0:_input$r$name.length)||0){case 0:break;case 1:var index=output.length;dfs(source,r.name,visited,input,output);var j=void 0;if(index===output.length){for(var i=index-1;i>=0;--i)if(output[i].name===r.name){j=i;break}}else for(var _i=index;_i<output.length;++_i)if(output[_i].name===r.name){j=_i;break}if(void 0!==j){var _step8,_iterator8=Object(_home_whom_chickut_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_7__.a)(from);try{for(_iterator8.s();!(_step8=_iterator8.n()).done;){var _i2=_step8.value;output[j].to.add(_i2)}}catch(err){_iterator8.e(err)}finally{_iterator8.f()}}break;default:throw new AmbiguousError(r.name)}}}catch(err){_iterator7.e(err)}finally{_iterator7.f()}}}catch(err){_iterator6.e(err)}finally{_iterator6.f()}visited[name]=2,output.push({name:name,from:new Set(from),to:new Set})}}function toposort(source){var input=source.reduce((function(all,item,index){if(item.vars.length){var _step9,_iterator9=Object(_home_whom_chickut_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_7__.a)(item.vars);try{for(_iterator9.s();!(_step9=_iterator9.n()).done;){var _step9$value=_step9.value,name=_step9$value.name,nesting=_step9$value.nesting;name&&0===nesting&&(all[name]||(all[name]=[]),all[name].push(index))}}catch(err){_iterator9.e(err)}finally{_iterator9.f()}}else all[""]||(all[""]=[]),all[""].push(index);return all}),{}),output=[],visited={};for(var name in input)visited[name]||dfs(source,name,visited,input,output);return output}var Runtime=function(){function Runtime(codes,options){var _this2=this;Object(_home_whom_chickut_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_8__.a)(this,Runtime),this.options=void 0,this.snippets=void 0,this.topo=void 0,this.closures=void 0,this.functions=void 0,this.graph=void 0,this.disposed=!1,this.options=Object(_home_whom_chickut_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_6__.a)({},options),this.snippets=codes.map((function(code){return new Snippet(code)})),this.topo=toposort(this.snippets),this.closures=[],this.functions=this.snippets.map((function(snippet,i){var env={},params=[];return _this2.topo.forEach((function(_ref12){var name=_ref12.name,from=_ref12.from,to=_ref12.to;from.has(i)&&(env[name]=void 0),to.has(i)&&params.push(name)})),_this2.closures.push({index:i,env:_this2.proxy(env,i),params:params,timestamp:0}),Object(_home_whom_chickut_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_construct__WEBPACK_IMPORTED_MODULE_0__.a)(Function,["__env__"].concat(params,[snippet.transform()]))})),this.graph=this.createGraph()}return Object(_home_whom_chickut_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_9__.a)(Runtime,[{key:"createGraph",value:function createGraph(){var _this3=this,graph=new Map;return this.topo.forEach((function(_ref13,i){var name=_ref13.name,to=_ref13.to;if(0!==to.size){var _step10,handlers=[],_iterator10=Object(_home_whom_chickut_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_7__.a)(to);try{var _loop=function _loop(){for(var target=_step10.value,fn=_this3.functions[target],closure=_this3.closures[target],env=closure.env,params=closure.params,others=new Set,j=0;j<_this3.topo.length;++j)if(j!==i&&_this3.topo[j].to.has(target)){var _step11,ts=-1,other=void 0,_iterator11=Object(_home_whom_chickut_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_7__.a)(_this3.topo[j].from);try{for(_iterator11.s();!(_step11=_iterator11.n()).done;){var index=_step11.value,obj=_this3.closures[index];obj.timestamp>ts&&(other=index,ts=obj.timestamp)}}catch(err){_iterator11.e(err)}finally{_iterator11.f()}void 0!==other&&others.add(other)}var args=new Map;if(others.size)for(var _i3=0;_i3<params.length;++_i3){var _step12,param=params[_i3],_iterator12=Object(_home_whom_chickut_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_7__.a)(others);try{for(_iterator12.s();!(_step12=_iterator12.n()).done;){var _j=_step12.value,_other=_this3.closures[_j];if(Object.getOwnPropertyDescriptor(_other.env,param)){args.set(param,_other);break}}}catch(err){_iterator12.e(err)}finally{_iterator12.f()}}handlers.push((function(values){var _this3$options$onRetu,_this3$options;if(args.size)for(var _i4=0;_i4<params.length;++_i4){var _param=params[_i4],paramClosure=args.get(_param);paramClosure&&(values[_i4]=paramClosure.env[_param])}_this3.cleanup(closure),closure.result=fn.apply(void 0,[env].concat(Object(_home_whom_chickut_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_4__.a)(values))),null===(_this3$options$onRetu=(_this3$options=_this3.options).onReturned)||void 0===_this3$options$onRetu||_this3$options$onRetu.call(_this3$options,closure)}))};for(_iterator10.s();!(_step10=_iterator10.n()).done;)_loop()}catch(err){_iterator10.e(err)}finally{_iterator10.f()}handlers.length&&graph.set(name,handlers)}})),graph}},{key:"cleanup",value:function cleanup(closure){var _this$options$onDispo,_this$options;"function"==typeof closure.result&&(closure.result(),closure.result=void 0,null===(_this$options$onDispo=(_this$options=this.options).onDisposed)||void 0===_this$options$onDispo||_this$options$onDispo.call(_this$options,closure))}},{key:"proxy",value:function proxy(env,index){var _this4=this;return new Proxy(env,{set:function set(target,key,value,receiver){if(value===target[key])return!1;var ret=Reflect.set(target,key,value,receiver);if(ret&&(_this4.closures[index].timestamp=(new Date).getTime(),!_this4.disposed)){var handlers=_this4.graph.get(key);null==handlers||handlers.forEach((function(fn){return frame((function(){return fn(Object.values(target))}))}))}return ret}})}},{key:"evaluate",value:function evaluate(){var _this5=this;if(this.disposed)return!1;var done=new Set;return this.topo.forEach((function(_ref14){var _step13,from=_ref14.from,to=_ref14.to,_iterator13=Object(_home_whom_chickut_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_7__.a)(from);try{for(_iterator13.s();!(_step13=_iterator13.n()).done;){var i=_step13.value;done.has(i)||function(){done.add(i);var fn=_this5.functions[i],closure=_this5.closures[i];frame((function(){var _this5$options$onRetu,_this5$options;closure.result=fn(closure.env),null===(_this5$options$onRetu=(_this5$options=_this5.options).onReturned)||void 0===_this5$options$onRetu||_this5$options$onRetu.call(_this5$options,closure)}))}()}}catch(err){_iterator13.e(err)}finally{_iterator13.f()}var _step14,_iterator14=Object(_home_whom_chickut_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_7__.a)(to);try{for(_iterator14.s();!(_step14=_iterator14.n()).done;){var _i5=_step14.value;done.add(_i5)}}catch(err){_iterator14.e(err)}finally{_iterator14.f()}})),!0}},{key:"dispose",value:function dispose(){this.disposed=!0;for(var i=this.topo.length-1;i>=0;--i){var _step15,_iterator15=Object(_home_whom_chickut_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_7__.a)(this.topo[i].from);try{for(_iterator15.s();!(_step15=_iterator15.n()).done;){var j=_step15.value;this.cleanup(this.closures[j])}}catch(err){_iterator15.e(err)}finally{_iterator15.f()}}}}]),Runtime}();try{toposort.displayName="toposort",toposort.__docgenInfo={description:"",displayName:"toposort",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/extensions/nodes/html/runtime.tsx#toposort"]={docgenInfo:toposort.__docgenInfo,name:"toposort",path:"src/components/extensions/nodes/html/runtime.tsx#toposort"})}catch(__react_docgen_typescript_loader_error){}}).call(this,__webpack_require__(461).setImmediate)},596:function(module,exports,__webpack_require__){__webpack_require__(597),__webpack_require__(752),__webpack_require__(753),__webpack_require__(908),__webpack_require__(1127),__webpack_require__(1159),__webpack_require__(1164),__webpack_require__(1176),__webpack_require__(1178),__webpack_require__(1183),__webpack_require__(1185),module.exports=__webpack_require__(1188)},663:function(module,exports){},753:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(442)}},[[596,1,2]]]);
//# sourceMappingURL=main.a261277703fd81cd3d69.bundle.js.map